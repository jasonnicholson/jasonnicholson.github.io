[
  {
    "objectID": "posts/2025/12/2025-12-21-the-full-cavitation-model-with-only-ncg.html",
    "href": "posts/2025/12/2025-12-21-the-full-cavitation-model-with-only-ncg.html",
    "title": "The full cavitation model with only NCG (no vapor)",
    "section": "",
    "text": "This note takes the Singhal et al. (2002) homogeneous-mixture framework and explicitly turns off the vapor/cavitation part (no vapor phase, no phase change). What remains is a two-constituent EVET mixture: liquid + non-condensable gas (NCG).\nThe model is a homogeneous mixture (Equal-Velocity / Equal-Temperature; EVET) formulation:"
  },
  {
    "objectID": "posts/2025/12/2025-12-21-the-full-cavitation-model-with-only-ncg.html#primary-variables",
    "href": "posts/2025/12/2025-12-21-the-full-cavitation-model-with-only-ncg.html#primary-variables",
    "title": "The full cavitation model with only NCG (no vapor)",
    "section": "Primary variables",
    "text": "Primary variables\n\n\\(\\rho\\) mixture density\n\\(\\mathbf{V}\\) mixture velocity\n\\(f_g\\) non-condensable gas mass fraction\n\\(\\rho_g\\) NCG density\n\\(\\alpha_g\\) NCG volume fraction\n\\(\\alpha_l\\) liquid volume fraction"
  },
  {
    "objectID": "posts/2025/12/2025-12-21-the-full-cavitation-model-with-only-ncg.html#mixture-closure-liquid-ncg-only",
    "href": "posts/2025/12/2025-12-21-the-full-cavitation-model-with-only-ncg.html#mixture-closure-liquid-ncg-only",
    "title": "The full cavitation model with only NCG (no vapor)",
    "section": "Mixture closure (liquid + NCG only)",
    "text": "Mixture closure (liquid + NCG only)\nWith vapor ignored (set \\(f_v=0\\) everywhere), the mixture density relation reduces to:\n\\[\n\\frac{1}{\\rho}=\\frac{f_g}{\\rho_g}+\\frac{1-f_g}{\\rho_l}\n\\]\nNCG density is computed as:\n\\[\n\\rho_g=\\frac{P}{R_{air}T}\n\\]\nThe corresponding volume fractions follow from the same algebra used in the full model:\n\\[\n\\alpha_g=f_g\\,\\frac{\\rho}{\\rho_g}\n\\]\n\\[\n\\alpha_l=1-\\alpha_g\n\\]"
  },
  {
    "objectID": "posts/2025/12/2025-12-21-the-full-cavitation-model-with-only-ncg.html#ncg-mass-fraction-transport-no-phase-change",
    "href": "posts/2025/12/2025-12-21-the-full-cavitation-model-with-only-ncg.html#ncg-mass-fraction-transport-no-phase-change",
    "title": "The full cavitation model with only NCG (no vapor)",
    "section": "NCG mass fraction transport (no phase change)",
    "text": "NCG mass fraction transport (no phase change)\nIn this vapor-off limit there are no evaporation/condensation source terms. The transported scalar is the NCG mass fraction \\(f_g\\):\n\\[\n\\frac{\\partial}{\\partial t}(\\rho f_g)+\\nabla\\cdot(\\rho\\,\\mathbf{V}\\,f_g)=\\nabla\\cdot(\\Gamma\\,\\nabla f_g)\n\\]\nHere \\(\\Gamma\\) is an effective diffusion coefficient used for the scalar transport (typically a turbulence-model-based closure in CFD implementations)."
  },
  {
    "objectID": "posts/2025/12/2025-12-21-the-full-cavitation-model-with-only-ncg.html#what-this-is-and-is-not",
    "href": "posts/2025/12/2025-12-21-the-full-cavitation-model-with-only-ncg.html#what-this-is-and-is-not",
    "title": "The full cavitation model with only NCG (no vapor)",
    "section": "What this is (and is not)",
    "text": "What this is (and is not)\n\nThis is still an EVET homogeneous mixture (one velocity, one temperature, variable density).\nIt is not a cavitation model anymore in the classic fluid-mechanics sense, because cavitation refers to the formation of vapor-filled cavities when local pressure falls below the liquid vapor pressure, and the associated collapse when pressure recovers (Brennen (1995)).\n\nIn hydraulics practice it’s common to associate cavitation damage with “air” because:\n\nEntrained/dissolved gas provides nuclei and strongly influences how cavities grow/collapse.\nSome phenomena are more properly called aeration/ventilation (gas ingestion/entrained bubbles) rather than vapor cavitation; Brennen explicitly distinguishes air entrainment (“ventilation”) from vaporization-driven cavities in the historical context of propellers (Brennen (1995)).\n\nSo: a liquid+air (NCG) mixture model can still be useful for predicting density/compressibility effects, but by itself it does not model vaporization/condensation."
  },
  {
    "objectID": "posts/2025/12/2025-12-21-the-full-cavitation-model-with-only-ncg.html#references",
    "href": "posts/2025/12/2025-12-21-the-full-cavitation-model-with-only-ncg.html#references",
    "title": "The full cavitation model with only NCG (no vapor)",
    "section": "References",
    "text": "References\n\n\nBrennen, Christopher Earls. 1995. Cavitation and Bubble Dynamics. Oxford University Press. http://caltechbook.library.caltech.edu/1/.\n\n\nSinghal, Ashok K., Mohan M. Athavale, Huiying Li, and Yong Jiang. 2002. “Mathematical Basis and Validation of the Full Cavitation Model.” Journal of Fluids Engineering 124 (3): 617–24."
  },
  {
    "objectID": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html",
    "href": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html",
    "title": "Summary of the full cavitation model",
    "section": "",
    "text": "This post is a code-oriented restatement of the Full Cavitation Model from Singhal et al. (2002), with the core equations collected in one place.\nThe model is a homogeneous mixture (Equal-Velocity / Equal-Temperature; EVET) formulation:"
  },
  {
    "objectID": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#primary-variables",
    "href": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#primary-variables",
    "title": "Summary of the full cavitation model",
    "section": "Primary variables",
    "text": "Primary variables\n\n\\(\\rho\\) mixture density\n\\(\\mathbf{V}\\) mixture velocity\n\\(f\\) vapor mass fraction (base model)\n\\(\\alpha\\) vapor volume fraction\n\\(R_e\\), \\(R_c\\) evaporation and condensation source terms\n\nWhen including a non-condensable gas (NCG):\n\n\\(f_v\\) vapor mass fraction\n\\(f_g\\) non-condensable gas mass fraction\n\\(\\rho_g\\) NCG density"
  },
  {
    "objectID": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#mixture-closure-base-model",
    "href": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#mixture-closure-base-model",
    "title": "Summary of the full cavitation model",
    "section": "Mixture closure (base model)",
    "text": "Mixture closure (base model)\nMixture density is related to vapor mass fraction \\(f\\) by:\n\\[\n\\frac{1}{\\rho}=\\frac{f}{\\rho_v}+\\frac{1-f}{\\rho_l}\n\\]\nVapor volume fraction is then:\n\\[\n\\alpha \\equiv f\\,\\frac{\\rho}{\\rho_v}\n\\]"
  },
  {
    "objectID": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#vapor-mass-fraction-transport",
    "href": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#vapor-mass-fraction-transport",
    "title": "Summary of the full cavitation model",
    "section": "Vapor mass fraction transport",
    "text": "Vapor mass fraction transport\nThe vapor mass fraction is governed by:\n\\[\n\\frac{\\partial}{\\partial t}(\\rho f)+\\nabla\\cdot(\\rho\\,\\mathbf{V}\\,f)=\\nabla\\cdot(\\Gamma\\,\\nabla f)+R_e-R_c\n\\]\nHere \\(\\Gamma\\) is an effective diffusion coefficient used for the scalar transport (typically a turbulence-model-based closure in CFD implementations)."
  },
  {
    "objectID": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#phase-change-source-terms-no-ncg",
    "href": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#phase-change-source-terms-no-ncg",
    "title": "Summary of the full cavitation model",
    "section": "Phase-change source terms (no NCG)",
    "text": "Phase-change source terms (no NCG)\nEvaporation (vapor generation) rate:\n\\[\nR_e=C_e\\,\\frac{V_{ch}}{\\sigma}\\,\\rho_l\\,\\rho_v\\left[\\frac{2}{3}\\,\\frac{(P_v-P)}{\\rho_l}\\right]^{1/2}(1-f)\n\\]\nCondensation rate:\n\\[\nR_c=C_c\\,\\frac{V_{ch}}{\\sigma}\\,\\rho_l\\,\\rho_l\\left[\\frac{2}{3}\\,\\frac{(P-P_v)}{\\rho_l}\\right]^{1/2}f\n\\]\nWhere:\n\n\\(P\\) is the local pressure\n\\(P_v\\) is the phase-change threshold pressure (see turbulence section below)\n\\(\\sigma\\) is liquid-vapor surface tension\n\\(V_{ch}\\) is a characteristic velocity\n\nThe authors recommend estimating \\(V_{ch}\\) from turbulent kinetic energy:\n\\[\nV_{ch}=\\sqrt{k}\n\\]"
  },
  {
    "objectID": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#effect-of-turbulence-threshold-pressure",
    "href": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#effect-of-turbulence-threshold-pressure",
    "title": "Summary of the full cavitation model",
    "section": "Effect of turbulence (threshold pressure)",
    "text": "Effect of turbulence (threshold pressure)\nThe phase-change threshold pressure is raised using turbulent pressure fluctuations:\n\\[\nP'_{turb}=0.39\\,\\rho\\,k\n\\]\n\\[\nP_v=\\left(P_{sat}+\\frac{P'_{turb}}{2}\\right)\n\\]"
  },
  {
    "objectID": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#extension-non-condensable-gas-ncg",
    "href": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#extension-non-condensable-gas-ncg",
    "title": "Summary of the full cavitation model",
    "section": "Extension: non-condensable gas (NCG)",
    "text": "Extension: non-condensable gas (NCG)\nWith NCG, the mixture density relation becomes:\n\\[\n\\frac{1}{\\rho}=\\frac{f_v}{\\rho_v}+\\frac{f_g}{\\rho_g}+\\frac{1-f_v-f_g}{\\rho_l}\n\\]\nNCG density is computed as:\n\\[\n\\rho_g=\\frac{P}{R_{air}T}\n\\]\nVolume fractions are updated as:\n\\[\n\\alpha_g=f_g\\,\\frac{\\rho}{\\rho_g}\n\\]\n\\[\n\\alpha_l=1-\\alpha_v-\\alpha_g\n\\]\nThe paper then rewrites the phase-change rates (replacing \\(V_{ch}\\) with \\(\\sqrt{k}\\)) as:\n\\[\nR_e=C_e\\,\\frac{\\sqrt{k}}{\\sigma}\\,\\rho_l\\,\\rho_v\\left[\\frac{2}{3}\\,\\frac{(P_v-P)}{\\rho_l}\\right]^{1/2}\\left(1-f_v-f_g\\right)\n\\]\nand\n\\[\nR_c= C_c\\,\\frac{\\sqrt{k}}{\\sigma}\\,\\rho_l\\,\\rho_l\\left[\\frac{2}{3}\\,\\frac{(P-P_v)}{\\rho_l}\\right]^{1/2}f_v\n\\]\n\nNote on an apparent inconsistency in Eq. (24)\nThere are a couple of error in Eq. (24) of the original paper. Eq (24) is supposed to be a restatement of Eq. (16) with \\(V_{ch}\\) is replaced with \\(\\sqrt{k}\\). However, there are two mistakes.\nEq. (16)\n\\[\nR_c=C_c\\,\\frac{V_{ch}}{\\sigma}\\,\\rho_l\\,\\rho_l\\left[\\frac{2}{3}\\,\\frac{(P-P_v)}{\\rho_l}\\right]^{1/2}f\n\\]\nEq. (24) as printed \\[\nR_c= {\\color{red}{C_e}}\\,\\frac{\\sqrt{k}}{\\sigma}\\,\\rho_l\\,\\rho_l\\left[\\frac{2}{3}\\,\\frac{(P-P_v)}{\\color{red}{\\rho}}\\right]^{1/2}f_v\n\\]\nEq. (24) corrected: \\[\nR_c= C_c\\,\\frac{\\sqrt{k}}{\\sigma}\\,\\rho_l\\,\\rho_l\\left[\\frac{2}{3}\\,\\frac{(P-P_v)}{\\rho_l}\\right]^{1/2}f_v\n\\]"
  },
  {
    "objectID": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#recommended-constants",
    "href": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#recommended-constants",
    "title": "Summary of the full cavitation model",
    "section": "Recommended constants",
    "text": "Recommended constants\n\\[\nC_e=0.02\\qquad C_c=0.01\n\\]"
  },
  {
    "objectID": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#references",
    "href": "posts/2025/12/2025-12-20-summary-the-full-cavitation-model.html#references",
    "title": "Summary of the full cavitation model",
    "section": "References",
    "text": "References\n\n\nSinghal, Ashok K., Mohan M. Athavale, Huiying Li, and Yong Jiang. 2002. “Mathematical Basis and Validation of the Full Cavitation Model.” Journal of Fluids Engineering 124 (3): 617–24."
  },
  {
    "objectID": "posts/2025/12/2025-12-13-understanding-how-damping-ratio-affects-the-poles-of-a-second-order-system.html",
    "href": "posts/2025/12/2025-12-13-understanding-how-damping-ratio-affects-the-poles-of-a-second-order-system.html",
    "title": "Understanding how damping ratio affects the poles of a second order system",
    "section": "",
    "text": "In simulation and controls, its important to understand the details of a second order system. This post is how the damping ratio affect the poles of a second order system.\nThe mechanical second order system has the following form:\n\\[m \\ddot{x} + c \\dot{x} + k x = F(t)\\]\nWhere:\n\n\\(m\\) is the mass\n\\(c\\) is the damping coefficient\n\\(k\\) is the spring constant\n\\(F(t)\\) is the external force applied to the system\n\nNormalizing the equation by dividing through by \\(m\\) gives:\n\\[\\ddot{x} + 2 \\zeta \\omega_n \\dot{x} + \\omega_n^2 x = \\frac{1}{m}F(t)\\]\nWhere:\n\n\\(\\omega_n = \\sqrt{\\frac{k}{m}}\\) is the natural frequency\n\\(\\zeta = \\frac{c}{2 \\sqrt{mk}}\\) is the damping ratio\n\nTaking the laplace transform with 0 initial conditions gives the transfer function. Note, that the 0 initial conditions can be handled later and that studying the damping ratio effects on the poles is independent of initial conditions.\n\\[G(s) = \\frac{X(s)}{F(s)} = \\frac{\\frac{1}{m}}{s^2 + 2 \\zeta \\omega_n s + \\omega_n^2}\\]\nThe poles of this system represent the roots of the denominator and can be found using the quadratic formula:\n\\[s = \\frac{-2 \\zeta \\omega_n \\pm \\sqrt{(2 \\zeta \\omega_n)^2 - 4 \\cdot 1 \\cdot \\omega_n^2}}{2 \\cdot 1}\\]\nLet’s normalize this expression by dividing through by \\(\\omega_n\\) and simplify the expression:\n\\[\\frac{s}{\\omega_n} = -\\zeta \\pm \\sqrt{\\zeta^2 - 1}\\]\nWhat’s important is understanding how the damping ratio \\(\\zeta\\) affects the nature of the poles.\n\nNo damping (\\(\\zeta = 0\\)):\n\nThe poles are purely imaginary: \\(s = \\pm j \\omega_n\\).\nThis indicates undamped oscillations at the natural frequency \\(\\omega_n\\).\n\nUnderdamped (\\(0 &lt; \\zeta &lt; 1\\)):\n\nThe poles are complex conjugates: \\(s = -\\zeta \\omega_n \\pm j \\omega_n \\sqrt{1 - \\zeta^2}\\).\nThis indicates oscillatory behavior with an exponential decay determined by the real part \\(-\\zeta \\omega_n\\).\n\nCritically damped (\\(\\zeta = 1\\)):\n\nThe poles are real and repeated: \\(s = -\\omega_n\\).\nThis indicates the system returns to equilibrium as quickly as possible without oscillating.\n\nOverdamped (\\(\\zeta &gt; 1\\)):\n\nThe poles are real and distinct: \\(s = -\\zeta \\omega_n \\pm \\omega_n \\sqrt{\\zeta^2 - 1}\\).\nThis indicates a non-oscillatory return to equilibrium, with the speed of return depending primarily on the larger of the two poles.\nAs the damping ratio goes to infinity, one pole approaches zero while the other goes to negative infinity.\n\n\nBelow is a plot of the poles of a second order system as a function of the damping ratio from 0 to 2. Note how when the poles become real, one pole goes to zero while the other goes to negative infinity as the damping ratio increases.\nzeta = unique([linspace(0,1,1001), linspace(1,2,100)]).';\nrootWithPositiveImaginaryPart = -zeta + sqrt(zeta.^2 -1);\nrootWithNegativeImaginaryPart = -zeta - sqrt(zeta.^2 -1);\nplot(rootWithPositiveImaginaryPart, 'r', 'LineWidth', 2);\nhold on;\naxis equal;\nplot(rootWithNegativeImaginaryPart, 'b', 'LineWidth', 2);\nxlabel('Real part of s/\\omega_n');\nylabel('Imaginary part of s/\\omega_n');\n\n\n\nPoles of a second order system as a function of damping ratio"
  },
  {
    "objectID": "posts/2025/11/2025-11-30-re-encoding-a-google-photo-video-album.html",
    "href": "posts/2025/11/2025-11-30-re-encoding-a-google-photo-video-album.html",
    "title": "Re-encoding a Google photo/video album",
    "section": "",
    "text": "One common issue is running out of space on your smartphone or in the cloud because of photos and videos. Google provides “storage saver” settings that help, but they don’t completely solve the problem. The main issue is that the default video bitrate is around 20 Mbps, which is quite high for most use cases. Re-encoding videos to around 3,000 kbps can drastically reduce their size while maintaining good quality. The same is true for photos, where reducing the resolution and quality can help reduce their size. The space saved by re-encoding is usually around 5–9×, depending on the content. An album that was consuming 20GB will likely come down to around 2–4GB after re-encoding. If you’re starting from “storage saver” quality, the savings will be smaller but still significant at around 2–3×. I use the following workflow to re-encode my Google photo/video albums:\n\n\n\nFolder setup\n\n\n\nClear my trash in Google Photos. This will help later.\nDownload the album from Google Photos. Put it into the Large folder.\nRun the script below to re-encode the photos and videos into the Small folder.\nSend all the videos and photos in the Google Photos album to the trash. Clearing your trash earlier helps recover if you screwed up something. I am telling you from experience.\nUse the “Upload from computer” option in the Google Photos album to upload the contents of the Small folder back to the album. Because the metadata is preserved, the photos and videos will appear in the correct order with the correct timestamps.\n\nThe script below is a Windows batch script that uses ffmpeg and exiftool to re-encode the photos and videos. Make sure you have both tools installed and available in your system PATH. Files are assumed to be .heic or .jpg for pictures and .mp4 for videos. This script can easily be adapted for Bash or other shells as needed. Metadata is maintained for both photos and videos. exiftool is used to copy metadata for photos while removing the Orientation tag to avoid auto-rotation issues. The hevc_nvenc encoder is used for videos to leverage NVIDIA GPU acceleration, if available, for H.265 encoding. If you don’t have an NVIDIA GPU, you can replace hevc_nvenc with libx265 for CPU encoding.\n@echo off\nsetlocal enabledelayedexpansion\n\nset input_dir=Large\nset output_dir=Small\n\nif not exist \"%output_dir%\" mkdir \"%output_dir%\"\n\necho Handling Pictures\nfor %%f in (\"%input_dir%\\*.jpg\" \"%input_dir%\\*.heic\") do (\n    set input_file=%%f\n    set filename=%%~nf\n\n     ffmpeg -hide_banner -i \"!input_file!\" -q:v 6 -map_metadata 0 -stats -update 1 \"%output_dir%\\!filename!.jpg\"\n    rem Copy all metadata from source but remove Orientation to avoid auto-rotation\n    exiftool -tagsfromfile \"!input_file!\" -all:all -Orientation= -overwrite_original \"%output_dir%\\!filename!.jpg\"\n)\n\necho Handling videos\nfor %%f in (\"%input_dir%\\*.MP4\") do (\n    set input_file=%%f\n    set filename=%%~nf\n\n     ffmpeg -hide_banner -i \"!input_file!\" -c:v hevc_nvenc -preset p5 -cq 35 -multipass fullres -spatial_aq 1 -map_metadata 0 -c:a aac -b:a 128k -ac 1 \"%output_dir%\\!filename!.MP4\"\n)\n\n\necho Processing complete!\npause"
  },
  {
    "objectID": "posts/2025/11/2025-11-28-setting-up-a-website-and-email.html",
    "href": "posts/2025/11/2025-11-28-setting-up-a-website-and-email.html",
    "title": "Setting up a website and email - DNS, GitHub, Markdown",
    "section": "",
    "text": "I recently migrated away from BlueHost and WordPress to a static site generator using GitHub Pages and Quarto. I moved my email from Bluehost to purelymail.com.The process involved several steps, including setting up DNS records, configuring GitHub, and converting my content to Markdown format. Here’s a brief analysis."
  },
  {
    "objectID": "posts/2025/11/2025-11-28-setting-up-a-website-and-email.html#cost-comparison",
    "href": "posts/2025/11/2025-11-28-setting-up-a-website-and-email.html#cost-comparison",
    "title": "Setting up a website and email - DNS, GitHub, Markdown",
    "section": "Cost Comparison",
    "text": "Cost Comparison\nBluehost was my previous hosting provider, where I had both my website and email services. Bluehost’s business model initial is inexpensive at around $5/month ($180 per 3 year term), but after a few years, it becomes 3x the cost. i.e. It costs me around $540 for hosting for a 3 year term to host a basic website with email. I need a basic site and email so Bluehost was more than I needed. As well, WordPress is a huge time suck. I wanted something simpler. Domains are around $15/year + $15/year for privacy protection from Bluehost. NameCheap charges around $12/year domain and privacy protection. Purelymail.com charges $10 a year for email hosting. GitHub Pages is free for public repositories. Quarto is free for open source projects. Overall, my new setup costs around $22/year. This is a significant cost saving compared to Bluehost."
  },
  {
    "objectID": "posts/2025/11/2025-11-28-setting-up-a-website-and-email.html#registrar-migration-and-dns-setup-for-github-pages",
    "href": "posts/2025/11/2025-11-28-setting-up-a-website-and-email.html#registrar-migration-and-dns-setup-for-github-pages",
    "title": "Setting up a website and email - DNS, GitHub, Markdown",
    "section": "Registrar migration and DNS setup for Github Pages",
    "text": "Registrar migration and DNS setup for Github Pages\nI moved my domain registration from Bluehost to NameCheap. This was a straightforward. Follow the prompts on the screen.\nThe following have to be set up in DNS on NameCheap so that it points to GitHub Pages.\n\n\n\nHost\nType\nValue\n\n\n\n\n\n\n@\nA\n185.199.108.153\n\n\n\n\n@\nA\n185.199.109.153\n\n\n\n\n@\nA\n185.199.110.153\n\n\n\n\n@\nA\n185.199.111.153\n\n\n\n\n@\nAAAA\n2606:50c0:8000::153\n\n\n\n\n@\nAAAA\n2606:50c0:8001::153\n\n\n\n\n@\nAAAA\n2606:50c0:8002::153\n\n\n\n\n@\nAAAA\n2606:50c0:8003::153\n\n\n\n\nwww\nCNAME\nyour-github-username.github.io\n\n\n\n\n_GITHUB-PAGES-CHALLENGE-username\nTXT\ntoken-provided-by-github\n\n\n\n\n\n For purelymail.com email hosting, I added the following DNS records:\n\n\n\n\n\n\n\n\n\n\nHost\nType\nValue\n\n\n\n\n\n\n@\nMX\nMAILSERVER.PURELYMAIL.COM\n\n\n\n\nPURELYMAIL1._DOMAINKEY\nCNAME\nKEY1.DKIMROOT.PURELYMAIL.COM\n\n\n\n\nPURELYMAIL2._DOMAINKEY\nCNAME\nKEY2.DKIMROOT.PURELYMAIL.COM\n\n\n\n\nPURELYMAIL3._DOMAINKEY\nCNAME\nKEY3.DKIMROOT.PURELYMAIL.COM\n\n\n\n\n_DMARC\nCNAME\nDMARCROOT.PURELYMAIL.COM\n\n\n\n\n@\nTXT\npurelymail_ownership_proof=token-provided-by-purelymail.com\n\n\n\n\n@\nTXT\nv=spf1 include:_spf.purelymail.com ~all"
  },
  {
    "objectID": "posts/2025/11/2025-11-28-setting-up-a-website-and-email.html#githhub-pages-setup",
    "href": "posts/2025/11/2025-11-28-setting-up-a-website-and-email.html#githhub-pages-setup",
    "title": "Setting up a website and email - DNS, GitHub, Markdown",
    "section": "GithHub Pages setup",
    "text": "GithHub Pages setup\nI created a new public repository on GitHub named your-github-username.github.io. This is required for GitHub Pages to work with a custom domain.\nI validated my domain ownership by adding the TXT record mentioned above in the DNS setup section.\nI configured the repository settings to enable GitHub Pages, selecting the gh-pages branch as the source.\nI used a git worktree workflow to deploy the site to the gh-pages branch while keeping the main branch for content development. This has the advantage of allowing you to use Git LFS for large files in the main branch while not use LFS in the gh-pages branch. The deploy script is shown below:\n#!/usr/bin/env julia\n\nSITE_DIR = abspath(joinpath(@__DIR__, \"..\",\"_site\"))\n\n@info \"SITE_DIR: $SITE_DIR\"\n\n# Minimal deploy script for Quarto sites.\n# Uses `quarto render` to build the site.\n\nfunction run_cmd(cmd::Cmd)\n    println(\"$cmd\")\n    run(cmd)\nend\n\n# If not running in CI, try to clean up any existing worktree so the\n# script can start from a clean state.\nif !haskey(ENV, \"CI\")\n  try\n    run_cmd(`git clean -xfd`)\n    rm(SITE_DIR, force=true, recursive=true)\n    run_cmd(`git worktree remove $SITE_DIR --force`)\n    run_cmd(`git branch -D gh-pages`)\n  catch e\n    # ignore if they don't exist\n  end\nend\n\n# Create a gh-pages worktree\nrun_cmd(`git worktree add --orphan -B gh-pages $SITE_DIR`)\n\n# Back up the SITE_DIR/.git file (Quarto may wipe it out)\ndot_git_file = joinpath(SITE_DIR, \".git\")\ndot_git_contents = nothing\ndot_git_contents = read(dot_git_file, String)\n@info \"Backed up $dot_git_file\"\n\n# Render the Quarto site\nrun_cmd(`quarto render`)\n\n# Restore backed-up .git file\nopen(dot_git_file, \"w\") do io\n  write(io, dot_git_contents)\nend\n@info \"Restored $dot_git_file\"\n\n# Get current commit hash\ncurrent_hash = readchomp(`git rev-parse --short HEAD`)\n\ncd(SITE_DIR) do\n  @info \"Current directory: $(pwd())\"\n  try\n    run_cmd(`git add --all .`)\n    run_cmd(`git commit -m \"Deploy Quarto site to gh-pages $current_hash\"`)\n    run_cmd(`git push --force origin gh-pages`)\n  catch e\n    # if there are no changes to commit, continue\n  end  \nend\n\nif !haskey(ENV, \"CI\")\n  @info \"CI not detected; cleaning up worktree and gh-pages branch\"\n  try\n    run_cmd(`git worktree remove $SITE_DIR --force`)\n    run_cmd(`git branch -D gh-pages`)\n  catch e\n    @warn \"Failed to clean up: $e\"\n  end\nelse\n  @info \"CI detected; skipping worktree cleanup\"\nend"
  },
  {
    "objectID": "posts/2025/11/2025-11-19-converting-docx-to-md.html",
    "href": "posts/2025/11/2025-11-19-converting-docx-to-md.html",
    "title": "Converting a docx to md - Math, tables, and html",
    "section": "",
    "text": "I used pandoc to convert a word file to .md.\n$ .venv/bin/pandoc -s -f docx -t gfm \"Newton Method Musings.docx\" --extract-media=media -o Newton-Method-Musings_pandoc.md\nThe following warnings were generated.\n[WARNING] Could not convert TeX math \\frac{\\partial F}{\\partial x} = 0, rendering as TeX\n[WARNING] Could not convert TeX math \\frac{\\partial F}{\\partial x}, rendering as TeX\n[WARNING] Could not convert TeX math D = \\left( \\frac{\\partial^{2}F}{\\partial x^{2}} \\right)^{- 1}\\left( - \\frac{\\partial F}{\\partial x} \\right), rendering as TeX\n[WARNING] Could not convert TeX math \\frac{\\partial^{2}F}{\\partial x^{2}}, rendering as TeX\n[WARNING] Could not convert TeX math \\frac{\\partial^{2}F}{\\partial x^{2}}, rendering as TeX\n[WARNING] Could not convert TeX math D = \\left( \\frac{\\partial\\ F}{\\partial x} \\right)^{- 1}( - F), rendering as TeX\n[WARNING] Could not convert TeX math \\frac{\\partial\\ F}{\\partial x}, rendering as TeX\n[WARNING] Could not convert TeX math \\frac{\\partial^{2}F}{\\partial x^{2}}, rendering as TeX\n[WARNING] Could not convert TeX math \\frac{\\partial\\ F}{\\partial x}, rendering as TeX\n[WARNING] Could not convert TeX math \\frac{\\partial\\ F}{\\partial x}, rendering as TeX\nThe problem was that the inline TeX inside an html did not get rendered correct like shown below.\n$\\frac{\\partial F}{\\partial x}$\nThe solution was to convert the $...$ to \\(...\\).\n\\(\\frac{\\partial F}{\\partial x}\\)\nThe context was the following.\n&lt;tr class=\"even\"&gt;\n&lt;td&gt;&lt;p&gt;The gradient is 0 at minimum&lt;/p&gt;\n&lt;p&gt;&lt;span class=\"math display\"&gt;$$\\frac{\\partial F}{\\partial x} =\n0$$&lt;/span&gt;&lt;/p&gt;\n&lt;p&gt;Where&lt;/p&gt;\n&lt;p&gt;\\(\\frac{\\partial F}{\\partial x}\\) is a\nvector value function of the &lt;span class=\"math inline\"&gt;&lt;em&gt;x&lt;/em&gt;&lt;/span&gt;\nvector.&lt;/p&gt;&lt;/td&gt;\n&lt;td&gt;&lt;p&gt;&lt;span class=\"math display\"&gt;&lt;em&gt;F&lt;/em&gt;(&lt;em&gt;x&lt;/em&gt;) = 0&lt;/span&gt;&lt;/p&gt;\n&lt;p&gt;Where&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;&lt;span class=\"math inline\"&gt;&lt;em&gt;F&lt;/em&gt;(&lt;em&gt;x&lt;/em&gt;)&lt;/span&gt; is a\nvector value function of"
  },
  {
    "objectID": "posts/2024/11/2024-11-12-Engineering-Workstation-Build.html",
    "href": "posts/2024/11/2024-11-12-Engineering-Workstation-Build.html",
    "title": "Engineering Workstation Build",
    "section": "",
    "text": "The main goal of this build is to make a custom engineering workstation that is appropriate for Scientific Computing (MATLAB), CAD (SolidWorks, OnShape, AutoDesk products, etc), FEA (Code_Aster, Calculix, LISA, etc), CFD (OpenFoam, Code_Saturne, Code_Syrthes), video encoding (AV1, h.265, h.266), and computer vision. It will dual boot Windows and Linux.\nThe rest of what follows is my design rationale for my choices."
  },
  {
    "objectID": "posts/2024/11/2024-11-12-Engineering-Workstation-Build.html#purpose",
    "href": "posts/2024/11/2024-11-12-Engineering-Workstation-Build.html#purpose",
    "title": "Engineering Workstation Build",
    "section": "",
    "text": "The main goal of this build is to make a custom engineering workstation that is appropriate for Scientific Computing (MATLAB), CAD (SolidWorks, OnShape, AutoDesk products, etc), FEA (Code_Aster, Calculix, LISA, etc), CFD (OpenFoam, Code_Saturne, Code_Syrthes), video encoding (AV1, h.265, h.266), and computer vision. It will dual boot Windows and Linux.\nThe rest of what follows is my design rationale for my choices."
  },
  {
    "objectID": "posts/2024/11/2024-11-12-Engineering-Workstation-Build.html#notes",
    "href": "posts/2024/11/2024-11-12-Engineering-Workstation-Build.html#notes",
    "title": "Engineering Workstation Build",
    "section": "Notes",
    "text": "Notes\nI am using PCPartPicker.com to configure the build, Engineering Build 2025. I am using passmark.com to compare different parts. Part benchmarks can be found linked in the Details from this page, Engineering Build 2025. Below is the part list, what I paid (2025-Feb-01 purchase), and where I bought each part.\n\n\n\nType\nItem\nPrice\n\n\n\n\nCPU\nIntel Core Ultra 7 265K 3.9 GHz 20-Core Processor\n$372.03 @ Amazon\n\n\nCPU Cooler\nNZXT Kraken 240 78.02 CFM Liquid CPU Cooler\n$139.99 @ Amazon\n\n\nMotherboard\nMSI MAG Z890 TOMAHAWK WIFI ATX LGA1851 Motherboard\n$239.99 @ Amazon\n\n\nMemory\nCorsair Vengeance 96 GB (2 x 48 GB) DDR5-5600 CL40 Memory\n$249.99 @ Amazon\n\n\nMemory\nCorsair Vengeance 96 GB (2 x 48 GB) DDR5-5600 CL40 Memory\n$249.99 @ Amazon\n\n\nStorage\nCrucial T700 W/Heatsink 1 TB M.2-2280 PCIe 5.0 X4 NVME Solid State Drive\n$162.99 @ Amazon\n\n\nStorage\nCrucial T700 W/Heatsink 1 TB M.2-2280 PCIe 5.0 X4 NVME Solid State Drive\n$162.99 @ Amazon\n\n\nVideo Card\nPNY VCQRTX4000-PB Quadro RTX 4000 8 GB Video Card\n$384.99 @ Amazon\n\n\nCase\nNZXT H9 Flow (2023) ATX Mid Tower Case\n$149.99 @ Amazon\n\n\nPower Supply\nCorsair RM1000e (2023) 1000 W 80+ Gold Certified Fully Modular ATX Power Supply\n$179.99 @ Amazon\n\n\n\nSubtotal\n$2291.95\n\n\n\nTaxes\n$155.75\n\n\n\nTotal\n$2447.70\n\n\n\n\nI benchmarked my 2015 workstation and my linux laptop. Here are the results:\n\n\n\n2015 Workstation\n\n\n\n\n\nLinux laptop\n\n\nBoth computers are outdated compared to what is available."
  },
  {
    "objectID": "posts/2024/11/2024-11-12-Engineering-Workstation-Build.html#cpu",
    "href": "posts/2024/11/2024-11-12-Engineering-Workstation-Build.html#cpu",
    "title": "Engineering Workstation Build",
    "section": "CPU",
    "text": "CPU\nSingle CPU XY Scatter Graph and Single Thread XY Scatter Graph to identify processor that balance price and speed. The graphs are shown below for convenience."
  },
  {
    "objectID": "posts/2024/11/2024-11-12-Engineering-Workstation-Build.html#benchmark-update",
    "href": "posts/2024/11/2024-11-12-Engineering-Workstation-Build.html#benchmark-update",
    "title": "Engineering Workstation Build",
    "section": "2025-12-06 Benchmark Update",
    "text": "2025-12-06 Benchmark Update\nAfter setup, I ran PassMark PerformanceTest 11 to benchmark the system.\n\n\n\n2025 Workstation Benchmark Results\n\n\nThe new workstation is 30x faster than the 2015 workstation and 6x faster than my linux laptop."
  },
  {
    "objectID": "posts/2021/07/2021-07-19-system-identification-resources.html",
    "href": "posts/2021/07/2021-07-19-system-identification-resources.html",
    "title": "System Identification Resources",
    "section": "",
    "text": "This blog post was turned into a page here: System Identification Resources"
  },
  {
    "objectID": "posts/2021/05/2021-05-09-linux-html-documentation-index.html",
    "href": "posts/2021/05/2021-05-09-linux-html-documentation-index.html",
    "title": "Linux HTML Documentation Index",
    "section": "",
    "text": "On Ubuntu Linux, there is a package called “dhelp”. dhelp allows viewing the man and info pages through a web browser. I find this very useful. man2html and info2www are required for dhelp. dhelp may work on other Linux systems but I cannot confirm this.\nsudo apt install dhelp man2html info2www\ndhelp package description:\n\nRead all documentation with a WWW browser. dhelp builds an index of all installed HTML documentation. You don’t need a WWW server to read the documentation. dhelp offers a very fast search in the HTML documents.\nYou can access the online help system with the dhelp program or with your browser. The URL to point your browser at is (if you have a WWW server installed) http://localhost/doc/HTML/index.html , else (if you do not) file://localhost/usr/share/doc/HTML/index.html."
  },
  {
    "objectID": "posts/2020/12/2020-12-31-ssh-windows-web-servers-linux-and-visual-studio-code.html",
    "href": "posts/2020/12/2020-12-31-ssh-windows-web-servers-linux-and-visual-studio-code.html",
    "title": "SSH, Windows, Web Servers, Linux, and Visual Studio Code",
    "section": "",
    "text": "The hardest thing about trying to do something new with computers these days is that it is hard to focus on the one new thing I am trying to learn. I want to start working on setting up a web server to implement engineering calculations at openhydrualics.com because I want them to be open and easy for anyone to use. This post is the saga I have been through to get to where I am today, a working web server that I can access to create the website I want."
  },
  {
    "objectID": "posts/2020/12/2020-12-31-ssh-windows-web-servers-linux-and-visual-studio-code.html#introduction",
    "href": "posts/2020/12/2020-12-31-ssh-windows-web-servers-linux-and-visual-studio-code.html#introduction",
    "title": "SSH, Windows, Web Servers, Linux, and Visual Studio Code",
    "section": "",
    "text": "The hardest thing about trying to do something new with computers these days is that it is hard to focus on the one new thing I am trying to learn. I want to start working on setting up a web server to implement engineering calculations at openhydrualics.com because I want them to be open and easy for anyone to use. This post is the saga I have been through to get to where I am today, a working web server that I can access to create the website I want."
  },
  {
    "objectID": "posts/2020/12/2020-12-31-ssh-windows-web-servers-linux-and-visual-studio-code.html#background",
    "href": "posts/2020/12/2020-12-31-ssh-windows-web-servers-linux-and-visual-studio-code.html#background",
    "title": "SSH, Windows, Web Servers, Linux, and Visual Studio Code",
    "section": "Background",
    "text": "Background\nI volunteer on an ISO, International Organization for Standardization, committee writing a new standard for calculating derived displacement for the hydraulics industry. As I have listened to what is going on in the tech world, I have seen things like Alliance for Open Media (AOM). AOM has united businesses in collaboration to develop the next generation of video codecs called AV1. I want to do similar things in the hydraulics industry to save money and time, and move the world forward. It is a great way to impact the world, and it is my part in making the world we live in a better place. Therefore, I thought that building a unified implementation of hydraulic engineering calculations that are open source and delivered via the web is a great way to tie all of this together. This may end up being a non-profit, or it may just be an open-source project. We will see, and I am still exploring this. The real point today is getting the environment set up so that I can develop a web application."
  },
  {
    "objectID": "posts/2020/12/2020-12-31-ssh-windows-web-servers-linux-and-visual-studio-code.html#the-saga",
    "href": "posts/2020/12/2020-12-31-ssh-windows-web-servers-linux-and-visual-studio-code.html#the-saga",
    "title": "SSH, Windows, Web Servers, Linux, and Visual Studio Code",
    "section": "The Saga",
    "text": "The Saga\nThe first thing I had to decide was what programming language and toolset I would use to develop my web app. I know MATLAB really well. I would love to use MATLAB. To quote MATLAB help related to web apps:\n\nMATLAB web apps are designed to run only within a trusted intranet environment, not in the open Internet. For more information, see Potential Risks.\nhttps://www.mathworks.com/help/compiler/web-apps.html\n\nSo this looked like a nonstarter using MATLAB. Besides, was I going to pay for using MATLAB plus several toolboxes? Maybe. MATLAB is about $2000, with each toolbox costing another $2000. That isn’t too bad if all I had to pay was $4000-5000 plus a few days; this would be time-efficient. However, it isn’t a real option.\nI started exploring other web apps such as Google Colab, Streamlit (Python), Genie (Julia), and Blockpad. Google Colab isn’t right because it requires sign-in and knowledge to use a Jupyter notebook with Python for my users. Blockpad is interesting but too basic for what I need; i.e., I need linear algebra and scientific computing. The Julia language was built for scientific computing. Genie was built to create web apps and looks good. Streamlit looks really good too. I want to learn Julia more than I want to learn Python because I tend to write scientific computing programs. As I have explored Genie and Julia, I am more sold that it is a good general direction.\nHosting was the next thing to consider. My website, jasonhnicholson.com, is hosted on Bluehost shared hosting. I learned that shared hosting is extremely locked down. I cannot use Julia or Python on the shared hosting platform in flexible enough ways. I had to compile python from scratch, which would have been fine if it worked, but it didn’t. It failed to compile correctly, which left me with a broken Python. I also tried Julia but received errors related to shared libraries (shown below), which told me that compiling was just a waste of time. I spent a whole weekend trying to solve the “Is shared hosting a good solution” question. I think shared hosting is not a good solution for running Julia or Python for my expertise level. It costs too much time.\nuser1@jasonhnicholson.com [~]# julia\njulia: error while loading shared libraries: libjulia.so.1: cannot open shared object file: No such file or directory\nuser1@jasonhnicholson.com [~]#\nNext up was I tried Virtual Private Server (VPS) for Bluehost, a step up compared to shared hosting. It gave access to a CentOS server with a package manager for around $30 a month; it could be cheaper, but I am paying monthly, so I don’t get it cheaper for a yearly subscription. Other services are cheaper, but I have used Bluehost for a while. Time is worth more than learning another hosting platform. Long term, I may do something different.\nVPS was easier to work with than shared hosting. The downside was that it took a whole four days to get things working correctly between SSH, CPanel, WHM, Julia, yum, rpm, CentOS, Julia, bash, and more. If some of these things are not familiar to you, it should explain the vast difficulty of trying to work cross-disciplinary on the web. It isn’t easy. I am comfortable enough with Linux that bash doesn’t scare me. I google things just like everyone else. I can learn but be more focused when I can help it.\nThe Cpanel is a web hosting control panel. WHM is a Web Host Manager. Together Cpanel and WHM work to provide a web interface to my Bluehost VPS server. These were failing on the first setup to Bluehost. I ran into an infinite refresh of the Cpanel page. I started the VPS setup on a Friday. Six calls to Bluehost, and four days later, I had a working VPS server on Tuesday morning. My time is limited when I work on projects like this. I have maybe a few hours a weekend and nights. Having patience is important but a difficult discipline. Here was another lesson in patience and flexibility. I learned. I grew.\nNext was SSH. SSH keys and SSH on windows don’t play well together. This where I have to understand Linux file permissions, SSH file requirements, Windows file permissions, and the different implementations of SSH across Linux and Windows. It’s a mess. The short story is to find the Microsoft OpenSSH repository. Putty works. Mosh works and is unusable. Git Bash works and is usable. However, I had to face the SSH file permissions concerning SSH keys on windows at some point. Microsoft has written Powershell scripts to deal with SSH key file permissions in the repo documentation: OpenSSH utility scripts fix file permissions. When I find the right information, it is amazing how simple this is to solve. When you don’t understand the problem and can’t find the right information, it is amazing the amount of time that can be wasted fighting this; I think it took me 5 days to understand the working parts of SSH, Linux, and Windows to finally solve this before I found the link to Microsoft OpenSSH repo. At least now I understand what is going on. I understand how to use ssh-agent to add my private key. I don’t use a private key without a password. My private key is heavily protected, and I think I know what I am doing around SSH now.\nVisual Studio Code (VSCode) was next. Technically, it was mixed into SSH, but we don’t have to get into that. Visual Studio Code is a great tool, but it is another thing to learn. It has a lot of working parts. It is a good editor with lots of functionality, including a Julia IDE with Remote SSH extension ( screenshot below). VSCode has around 120 keyboard shortcuts to learn. If you are going to use an IDE a lot, learn the shortcut keys. I decided to learn VSCode by learning the shortcut keys, so I made a Quizlet of all the shortcut keys here: Visual Studio Code Keyboard Shortcuts Quizlet.\n\n\n\n“Visual Studio Code SSH session to my server and Julia”\n\n\nThe Julia language, Genie.jl package, and the Stipple.jl package was next. Julia is an up-and-coming scientific computing language. All around, it seems that it is a good computer science language. I have been using Julia Documentation, Julia|Exercism, Julia REPL Shortcut Keys, Key bindings Quizlet (I created this), Julia Visual Studio Code Shortcut Keys, and the Julia Discourse. Exercism.com teaches through code by problem/challenge, which works well for me. Exercism allows me to look at other people’s solutions once I have submitted a solution. This is working for learning the Julia language. I am enjoying it. Quizlet is a great tool for memorizing lists. Julia Discourse is a great place to ask for help."
  },
  {
    "objectID": "posts/2020/11/2020-11-14-time-and-quality-work.html",
    "href": "posts/2020/11/2020-11-14-time-and-quality-work.html",
    "title": "Time and Quality Work",
    "section": "",
    "text": "The more time you put into something, generally the higher the quality."
  },
  {
    "objectID": "posts/2020/02/2020-02-15-using-the-shortname.html",
    "href": "posts/2020/02/2020-02-15-using-the-shortname.html",
    "title": "Using the Shortname",
    "section": "",
    "text": "The Shortname is a Windows way of dealing with non-ASCII characters and long file names and paths.\nFirst, let’s create some filenames with bad character inside bad folder names. We will use the character map to generate some commonly used Unicode, non-ASCII characters. We will even use some Arabic characters. See Table 1. Note, that the files with long names longer than 260 characters require special care to generate and is not something a user can do easily. Figure 2 shows the error message windows give you when you try to create a file/path name that is too long.\n\n\n\nFigure 1: Windows Character map showing what character sets windows supports.\n\n\nTable 1 — Files with non‑ASCII characters and their short (8.3) names\n\n\n\n\n\n\n\n\n\n\nFile #\nLong Name\nLong Name Length\nShort Name\nComments\n\n\n\n\n1\nC:‍Temp\\‍example long file name with non ASCII character 1 - °±ØøθΘﮆﯶﯙ.txt\n73\nC:‍Temp\\‍EXAMPL~1.TXT\n\n\n\n2\nC:‍Temp\\‍Long Folder Name with non ASCII characters 1 - °±ØøθΘﮆﯶﯙ\\‍example long file name with non ASCII character 2 - °±ØøθΘﮆﯶﯙ.txt\n130\nC:‍Temp\\‍LONGFO~1\\‍EXAMPL~1.TXT\n\n\n\n3\nC:‍Temp\\‍Long Folder Name with non ASCII characters 1 - °±ØøθΘﮆﯶﯙ\\‍example long file name with non ASCII character 3 - °±ØøθΘﮆﯶﯙ.txt\n130\nC:‍Temp\\‍LONGFO~1\\‍EXAMPL~2.TXT\n\n\n\n4\nC:‍Temp\\‍Long Folder Name with non ASCII characters 1 - °±ØøθΘﮆﯶﯙ\\‍Long Folder Name with non ASCII characters 2 - °±ØøθΘﮆﯶﯙ\\‍example long file name with non ASCII character 4 - °±ØøθΘﮆﯶﯙ - Copy.txt\n194\nC:‍Temp\\‍LONGFO~1\\‍LONGFO~1\\‍EXAMPL~2.TXT\n\n\n\n5\nC:‍Temp\\‍Long Folder Name with non ASCII characters 1 - °±ØøθΘﮆﯶﯙ\\‍Long Folder Name with non ASCII characters 2 - °±ØøθΘﮆﯶﯙ\\‍example long file name with non ASCII character 4 - °±ØøθΘﮆﯶﯙ.txt\n187\nC:‍Temp\\‍LONGFO~1\\‍LONGFO~1\\‍EXAMPL~1.TXT\n\n\n\n6\nC:‍Temp\\‍Long Folder Name with non ASCII characters 1 - °±ØøθΘﮆﯶﯙ\\‍Long Folder Name with non ASCII characters 2 - °±ØøθΘﮆﯶﯙ\\‍Long Folder Name with non ASCII characters 3 - °±ØøθΘﮆﯶﯙ\\‍example long file name with non ASCII character 5 - °±ØøθΘﮆﯶﯙ.txt\n244\nC:‍Temp\\‍LONGFO~1\\‍LONGFO~1\\‍LONGFO~1\\‍EXAMPL~1.TXT\n\n\n\n7\nC:‍Temp\\‍Long Folder Name with non ASCII characters 1 - °±ØøθΘﮆﯶﯙ\\‍Long Folder Name with non ASCII characters 2 - °±ØøθΘﮆﯶﯙ\\‍Long Folder Name with non ASCII characters 3 - °±ØøθΘﮆﯶﯙ\\‍Long Folder Name with non ASCII characters 4 - °±ØøθΘﮆﯶﯙ\\‍example long file name with non ASCII character 6 - °±ØøθΘﮆﯶﯙ.txt\n301\nC:‍Temp\\‍LONGFO~1\\‍LONGFO~1\\‍LONGFO~1\\‍LONGFO~1\\‍EXAMPL~1.TXT\nPaths longer than 260 characters are trouble. I don’t understand when you can work with them and when you can’t.\n\n\n8\nC:‍Temp\\‍Long Folder Name with non ASCII characters 1 - °±ØøθΘﮆﯶﯙ\\‍Long Folder Name with non ASCII characters 2 - °±ØøθΘﮆﯶﯙ\\‍Long Folder Name with non ASCII characters 3 - °±ØøθΘﮆﯶﯙ\\‍Long Folder Name with non ASCII characters 4 - °±ØøθΘﮆﯶﯙ\\‍Long Folder Name with non ASCII characters 5 - °±ØøθΘﮆﯶﯙ\\‍example long file name with non ASCII character 7 - °±ØøθΘﮆﯶﯙ.txt\n358\nC:‍Temp\\‍LONGFO~1\\‍LONGFO~1\\‍LONGFO~1\\‍LONGFO~1\\‍LONGFO~1\\‍EXAMPL~1.TXT\nPaths longer than 260 characters are trouble. I don’t understand when you can work with them and when you can’t.\n\n\n\n\n\n\nFigure 2: What happens when a path or file name is too long.\n\n\nIf you use the command dir /s /b example\\*.txt then you get the block of text shown in Block 1. Note that the dir did not return the 8th file path. This is because it has a local folder path longer than 260 characters.\nC:\\Temp\\example long file name with non ASCII character 1 - °±ØøθΘﮆﯶﯙ.txt\nC:\\Temp\\Long Folder Name with non ASCII characters 1 - °±ØøθΘﮆﯶﯙ\\example long file name with non ASCII character 2 - °±ØøθΘﮆﯶﯙ.txt\nC:\\Temp\\Long Folder Name with non ASCII characters 1 - °±ØøθΘﮆﯶﯙ\\example long file name with non ASCII character 3 - °±ØøθΘﮆﯶﯙ.txt\nC:\\Temp\\Long Folder Name with non ASCII characters 1 - °±ØøθΘﮆﯶﯙ\\Long Folder Name with non ASCII characters 2 - °±ØøθΘﮆﯶﯙ\\example long file name with non ASCII character 4 - °±ØøθΘﮆﯶﯙ - Copy.txt\nC:\\Temp\\Long Folder Name with non ASCII characters 1 - °±ØøθΘﮆﯶﯙ\\Long Folder Name with non ASCII characters 2 - °±ØøθΘﮆﯶﯙ\\example long file name with non ASCII character 4 - °±ØøθΘﮆﯶﯙ.txt\nC:\\Temp\\Long Folder Name with non ASCII characters 1 - °±ØøθΘﮆﯶﯙ\\Long Folder Name with non ASCII characters 2 - °±ØøθΘﮆﯶﯙ\\Long Folder Name with non ASCII characters 3 - °±ØøθΘﮆﯶﯙ\\example long file name with non ASCII character 5 - °±ØøθΘﮆﯶﯙ.txt\nC:\\Temp\\Long Folder Name with non ASCII characters 1 - °±ØøθΘﮆﯶﯙ\\Long Folder Name with non ASCII characters 2 - °±ØøθΘﮆﯶﯙ\\Long Folder Name with non ASCII characters 3 - °±ØøθΘﮆﯶﯙ\\Long Folder Name with non ASCII characters 4 - °±ØøθΘﮆﯶﯙ\\example long file name with non ASCII character 6 - °±ØøθΘﮆﯶﯙ.txt\nBlock 1\nIf instead we dump the command to a text file dir /s /b example\\*.txt &gt; filelist.txt then we have a problem as shown in Block 2. Some of the non-ASCII characters become question mark characters. This makes working with these files just about unworkable through text files.\nC:\\Temp\\example long file name with non ASCII character 1 - øñOo?é???.txt\nC:\\Temp\\Long Folder Name with non ASCII characters 1 - øñOo?é???\\example long file name with non ASCII character 2 - øñOo?é???.txt\nC:\\Temp\\Long Folder Name with non ASCII characters 1 - øñOo?é???\\example long file name with non ASCII character 3 - øñOo?é???.txt\nC:\\Temp\\Long Folder Name with non ASCII characters 1 - øñOo?é???\\Long Folder Name with non ASCII characters 2 - øñOo?é???\\example long file name with non ASCII character 4 - øñOo?é??? - Copy.txt\nC:\\Temp\\Long Folder Name with non ASCII characters 1 - øñOo?é???\\Long Folder Name with non ASCII characters 2 - øñOo?é???\\example long file name with non ASCII character 4 - øñOo?é???.txt\nC:\\Temp\\Long Folder Name with non ASCII characters 1 - øñOo?é???\\Long Folder Name with non ASCII characters 2 - øñOo?é???\\Long Folder Name with non ASCII characters 3 - øñOo?é???\\example long file name with non ASCII character 5 - øñOo?é???.txt\nC:\\Temp\\Long Folder Name with non ASCII characters 1 - øñOo?é???\\Long Folder Name with non ASCII characters 2 - øñOo?é???\\Long Folder Name with non ASCII characters 3 - øñOo?é???\\Long Folder Name with non ASCII characters 4 - øñOo?é???\\example long file name with non ASCII character 6 - øñOo?é???.txt\nBlock 2\nIn VBA, the short name is not something that VBA functions are setup to work with. Instead, if you use the del shortname through a shell command, then you can delete the file(s). For instance executing the command in Block 3 deletes all 8 files from Table 1 and Block 4 shows that the files no longer exist, which includes the files with long paths. Since I did not obtain the long folder path of file 8 via dir, I am not sure how you would get its short name except for manually generating it.\ndel C:\\Temp\\EXAMPL~1.TXT C:\\Temp\\LONGFO~1\\EXAMPL~1.TXT C:\\Temp\\LONGFO~1\\EXAMPL~2.TXT C:\\Temp\\LONGFO~1\\LONGFO~1\\EXAMPL~2.TXT C:\\Temp\\LONGFO~1\\LONGFO~1\\EXAMPL~1.TXT C:\\Temp\\LONGFO~1\\LONGFO~1\\LONGFO~1\\EXAMPL~1.TXT C:\\Temp\\LONGFO~1\\LONGFO~1\\LONGFO~1\\LONGFO~1\\EXAMPL~1.TXT C:\\Temp\\LONGFO~1\\LONGFO~1\\LONGFO~1\\LONGFO~1\\LONGFO~1\\EXAMPL~1.TXT\nBlock 3\nC:\\Temp&gt;dir /s /b  example*.txt\nFile Not Found\nBlock 4"
  },
  {
    "objectID": "posts/2020/01/2020-01-22-ffmpeg-the-crf-option-iphone-videos-and-corporate-networks.html",
    "href": "posts/2020/01/2020-01-22-ffmpeg-the-crf-option-iphone-videos-and-corporate-networks.html",
    "title": "FFmpeg, The -crf Option, iPhone Videos, and Corporate Networks",
    "section": "",
    "text": "I use FFmpeg on a regular basis for video, audio, and image-related editing. It is a command-line tool that goes from very simple to very complicated. I intend to stick with simple today. The point here is you can save 80-90% of the space used by iPhone, GoPro, or Android Video by re-encoding the video with FFmpeg and the -crf option. Keep reading to learn more.\nTo use FFmpeg, use something like the following.\n$ ffmpeg -i input.mp4 output.avi\nThe above code will convert an mp4 to an avi using inferred settings and won’t change the video’s codec. Side note, if you don’t know what a video format, container, and codecs are and how they relate, pause and read this link: Every Video Format, Codec, and Container Explained.\nThe problem I have run into is corporate network drives have lots of iPhone videos that have been stored for future reference. The first time I encountered this problem, I was working for ABC Company (to not name names or blame or whatever) and we ran out space on a network drive. We had several hundred engineers that could no longer work because we ran out space. IT could not expand the Network drive because of a limitation. This upset me. I couldn’t believe that this had happened at a large company and no one was doing anything about it. Therefore, I did something about it. I scanned the network to see what was stored on our network drive. The #1 space-consuming filetype was iPhone videos. People had dumped 300GB of iPhone videos onto our network over several years. Therefore I looked for a solution that could re-encode the videos, maintain the format, codec, resolution, framerate, and compatibility but reduce the file size. This is where FFmpeg and the -crf option comes in handy. All you have to do reduce the video size by 80-90% is the use the following code snippet\n ffmpeg -i inputMovie.mov -crf 28 outputVideo.mov\nThe above code snippet will maintain the format, codec, framerate, resolution, and then adjust the bitrate based on some factors documented better here: CRF Guide (Constant Rate Factor in x264, x265 and libvpx). I usually use a -crf of 28 for my x264 videos which is basically what all iPhone, GoPro, and Android videos are. This is aggressive but the loss of quality is minimal. For instance, a video that was 100MB will be 10MB after re-encoding it with -crf 28 and you can’t tell that I re-encoded the video.\nThe problem is that the bitrate of an iPhone video is an average of 20,000KB/s or more. Often, you don’t need that high of bitrate and it is overkill. After using -crf of 28, the bitrate will drop to an average of 2000KB/s or so. The bitrate during the video isn’t constant though. The bitrate is variable, you could have a segment of a video that is a bitrate of 10,000KB/s but still have an average 2000KB/s.\nThe 300GB’s of iPhone movies that I found on the ABC Company network, I re-encoded saving around 270GB. This allowed us to start working again on our Corporate Network drive.\nRecently I was at XYZ Company, I did a check for videos on the network. We have 1400GB of videos on that Network drive. I am betting that we can save 1100GB by re-encoding the videos."
  },
  {
    "objectID": "posts/2019/06/2019-06-17-nasa-t-mats.html",
    "href": "posts/2019/06/2019-06-17-nasa-t-mats.html",
    "title": "NASA T-MATS",
    "section": "",
    "text": "An open source thermodynamic modeling package completed on behalf of NASA. The Toolbox for the Modeling and Analysis of Thermodynamic Systems (T-MATS) package offers a MATLAB/Simulink toolbox that gives a developer the ability to create simulations of such thermodynamic systems as turbomachinery and gas turbines.\nhttps://github.com/nasa/T-MATS"
  },
  {
    "objectID": "posts/2019/05/2019-05-29-piston-rings-multiphysics-simulation.html",
    "href": "posts/2019/05/2019-05-29-piston-rings-multiphysics-simulation.html",
    "title": "Piston Rings Multiphysics Simulation",
    "section": "",
    "text": "My main goal is to define the pressure-flow (PQ curve) past piston rings for a known oil and temperature. This is a Fluid-Structure Interaction problem (FSI)."
  },
  {
    "objectID": "posts/2019/05/2019-05-29-piston-rings-multiphysics-simulation.html#goal",
    "href": "posts/2019/05/2019-05-29-piston-rings-multiphysics-simulation.html#goal",
    "title": "Piston Rings Multiphysics Simulation",
    "section": "",
    "text": "My main goal is to define the pressure-flow (PQ curve) past piston rings for a known oil and temperature. This is a Fluid-Structure Interaction problem (FSI)."
  },
  {
    "objectID": "posts/2019/05/2019-05-29-piston-rings-multiphysics-simulation.html#background",
    "href": "posts/2019/05/2019-05-29-piston-rings-multiphysics-simulation.html#background",
    "title": "Piston Rings Multiphysics Simulation",
    "section": "Background",
    "text": "Background\nI am modelling an application very similar to pistons rings in engine although my application has some differences. My rings are not in constant motion like in an engine. My rings are stationary and move sometimes in practice; for this simulation, I am going to ignore their motion.\nThe fit between the bore diameter and the rings is an interference fit. In the undeformed state, the piston rings interfere with the bore. Below are some pictures to familiarize yourself with the geometry and loading."
  },
  {
    "objectID": "posts/2019/05/2019-05-29-piston-rings-multiphysics-simulation.html#difficulties",
    "href": "posts/2019/05/2019-05-29-piston-rings-multiphysics-simulation.html#difficulties",
    "title": "Piston Rings Multiphysics Simulation",
    "section": "Difficulties",
    "text": "Difficulties\nThis is a tough problem because the fluid mesh will go to zero thickness as the rings expand against the bore. Also, the initial mesh is hard to get setup."
  },
  {
    "objectID": "posts/2019/05/2019-05-29-piston-rings-multiphysics-simulation.html#research",
    "href": "posts/2019/05/2019-05-29-piston-rings-multiphysics-simulation.html#research",
    "title": "Piston Rings Multiphysics Simulation",
    "section": "Research",
    "text": "Research\nThere are several PhD theses on this topic. I will have to see what they say. My hunch is that an automotive manufacturer supplied the funding so the key details might be missing to protect their intellectual property. I will most likely need to rediscover the keys to solving this problem.\nI Expect this to be a longer term project. This is a difficult research project that few engineers can solve. If you want to partner with me on this one, drop me a message via LinkedIn or GitHub."
  },
  {
    "objectID": "posts/2019/05/2019-05-29-caelinux.html",
    "href": "posts/2019/05/2019-05-29-caelinux.html",
    "title": "CAELinux",
    "section": "",
    "text": "If you haven’t seen CAELinux, then I highly recommend it. There is a lot of CAE software available in a single Ubuntu Linux based distro.\nhttps://caelinux.com/CMS3/"
  },
  {
    "objectID": "posts/2018/10/2018-10-16-a-comparison-between-differential-equation-solver-suites.html",
    "href": "posts/2018/10/2018-10-16-a-comparison-between-differential-equation-solver-suites.html",
    "title": "A Comparison Between Differential Equation Solver Suites",
    "section": "",
    "text": "Wow! The below article is must read if you solve differential equations on a regular basis.\nA Comparison Between Differential Equation Solver Suites In MATLAB, R, Julia, Python, C, Mathematica, Maple, and Fortran\nThe quick summary table below is outstanding and directly copied from the article linked above.\n\nOpen PDF in new tab / download"
  },
  {
    "objectID": "posts/2018/02/2018-02-16-simerics-pumplinx-hex-mesh-tutorial.html",
    "href": "posts/2018/02/2018-02-16-simerics-pumplinx-hex-mesh-tutorial.html",
    "title": "Simerics Pumplinx Hex Mesh Tutorial",
    "section": "",
    "text": "Simerics Pumplinx sometimes doesn’t do a a good job in the help describing certain task such as Hex template meshing.  Here is some graphics that may help.\n  \n\n\n\nMesh direction relationships. 1st direction points towards first point. 2nd direction point, etc.\n\n\nHere are the files: Hex Mesh.zip"
  },
  {
    "objectID": "posts/2017/02/2017-02-22-transmission-line-method.html",
    "href": "posts/2017/02/2017-02-22-transmission-line-method.html",
    "title": "Transmission Line Method",
    "section": "",
    "text": "Transmission Line Method (TLM) or Transmission Line Matrix method is an elegant technique used to solve lossless or lossy wave equations. Here I am gathering together resources on the topic since I have found it is not well studied in the US."
  },
  {
    "objectID": "posts/2017/02/2017-02-22-transmission-line-method.html#books",
    "href": "posts/2017/02/2017-02-22-transmission-line-method.html#books",
    "title": "Transmission Line Method",
    "section": "Books",
    "text": "Books\n\nChristopoulos, Christos. “The transmission-line modeling (TLM) method in electromagnetics.”. Synthesis Lectures on Computational Electromagnetics. 1.1 (2005): 1-132. ISBN: 1598290509. This book is focused on the point of view of electrical engineering.\nDe Cogan, Donard. Transmission line matrix (TLM) techniques for diffusion applications. Gordon and Breach Science Publishers, 1998. ISBN: 978-9056991296\nDe Cogan, Donard, William J. O’Connor, and Susan Pulko. Transmission line matrix (TLM) in computational mechanics. CRC Press, 2005. ISBN: 978-0415327176 This is the book I found easiest to read from a Mechanical Engineering perspective. The book starts by looking at the wave equation in 1D. It uses the ideas of boundary conditions to explain the scattering effect that occurs in TLM. It is an easy read for an engineer who has studied the wave equation before."
  },
  {
    "objectID": "posts/2017/02/2017-02-22-transmission-line-method.html#papers",
    "href": "posts/2017/02/2017-02-22-transmission-line-method.html#papers",
    "title": "Transmission Line Method",
    "section": "Papers",
    "text": "Papers"
  },
  {
    "objectID": "posts/2017/02/2017-02-22-transmission-line-method.html#webpages",
    "href": "posts/2017/02/2017-02-22-transmission-line-method.html#webpages",
    "title": "Transmission Line Method",
    "section": "Webpages",
    "text": "Webpages\n\nWhat is TLM and other helpful information. This page is Donard De Cogan’s page. Donard’s website has lots of information on TLM such as conferences and papers."
  },
  {
    "objectID": "posts/2016/05/2016-05-07-my-introduction-to-computational-fluid-dynamics-cfd.html",
    "href": "posts/2016/05/2016-05-07-my-introduction-to-computational-fluid-dynamics-cfd.html",
    "title": "My Introduction to Computational Fluid Dynamics (CFD)",
    "section": "",
    "text": "I have been doing a lot of CFD lately. I have quickly learned that the information one can gain from CFD is far more insightful to the physicals then 0D, lumped parameter equations.\nOne tool I have been using is Agros2d. It can do 2d axis symmetric and planar PDE problems. Agros2d can handle incompressible steady and unsteady CFD.\nAs an example, orifice problem has been studied many times. However, it usually isn’t studied from the point of view of an axis symmetric CFD.\nHere is the model: \nThe inlet boundary condition is a max velocity of 1.5m/s with a parabolic profile \\((1-\\frac{r}{R}^2)*1.5m/s\\). R is the radius of the pipe 0.003m.\nThe Agros2d model is attached here: Orifice.a2d. You should be able to open the model with Agros2d and hit the “Solve” button in the lower left hand corner.\nBelow are some the results from the simulation.\n\n\n\nVelocity field near the beginning and throat.\n\n\n\n\n\nVelocity field just past the throat. Notice the re-circulation.\n\n\n\n\n\nVelocity field at the outlet. Notice the recirculation\n\n\n\n\n\nVelocity along the axis of the pipe (velocity in the z direction).\n\n\n\n\n\nVelocity color plot at the throat. Notice that there is a dead space between the wall and the stream. The thinnest part of the stream is known as the vena contracta.\n\n\n\n\n\nThis the velocity profile at the center of the throat. It is interesting to see the velocity is in a step shape. The velocity is constant in the stream and near zero otherwise.\n\n\n\n\n\nVelocity profile at the start of throat where the fluid is accelerating.\n\n\n\n\n\nVelocity profile at the end of the throat.\n\n\n\n\n\nVelocity profile at the outlet in the z direction which along the axis of the pipe. Notice the negative velocity part of the profile indicating recirculation.\n\n\nHopefully you enjoyed this as much as I did making it."
  },
  {
    "objectID": "posts/2015/01/2015-01-18-a-good-nerd-laugh.html",
    "href": "posts/2015/01/2015-01-18-a-good-nerd-laugh.html",
    "title": "A Good Nerd Laugh",
    "section": "",
    "text": "Donald Knuth wrote the program tex (pronounced tek). He cares about code correctness and therefore gave out a reward if you ever found a bug in tex. In 36 years, only 1289 bugs have been found. In light of tex, Donald joking release iTeX in a 2010 presentation. It is a joke and you have to know a little of Donald’s quirks to get why the presentation is funny otherwise you may think he was serious."
  },
  {
    "objectID": "pages/numerical-methods/taylor-series.html",
    "href": "pages/numerical-methods/taylor-series.html",
    "title": "Taylor Series",
    "section": "",
    "text": "Taylor Series is an infinite sum of monomial terms. Taylor series acts like a polynomial with infinite terms. Therefore, it has similar properties to polynomials, such as not having horizontal or vertical asymptotes. This is helpful for understanding when the Taylor series converges or doesn’t converge. For functions that are infinitely differentiable but have asymptotes (\\(arctan(x)\\), rational functions, \\(tanh(x)\\)), the Taylor series will converge locally but not globally. For functions that do not behave like polynomials but are infinitely differentiable, the Taylor series can converge locally but not globally (\\(log(x)\\)). The Taylor series will converge globally for functions that behave like polynomials (\\(exp(x)\\)).\nTaylor series is often used in numerical methods to describe “the order of accuracy” or “order of convergence” of a particular numerical method. For instance, in numerical integration, a method is second-order accurate if it accurately estimates the Taylor series’ constant, linear, and quadratic terms. A strong understanding of the Taylor series helps understand many numerical methods.\nOther infinite series exist, such as the Laurent or the Power series. Padé approximant is very similar to a truncated Taylor series but is instead a ratio of two polynomials. Laurent, Power, and Padé approximant may be discussed on other Numerical Methods pages."
  },
  {
    "objectID": "pages/numerical-methods/taylor-series.html#summary",
    "href": "pages/numerical-methods/taylor-series.html#summary",
    "title": "Taylor Series",
    "section": "",
    "text": "Taylor Series is an infinite sum of monomial terms. Taylor series acts like a polynomial with infinite terms. Therefore, it has similar properties to polynomials, such as not having horizontal or vertical asymptotes. This is helpful for understanding when the Taylor series converges or doesn’t converge. For functions that are infinitely differentiable but have asymptotes (\\(arctan(x)\\), rational functions, \\(tanh(x)\\)), the Taylor series will converge locally but not globally. For functions that do not behave like polynomials but are infinitely differentiable, the Taylor series can converge locally but not globally (\\(log(x)\\)). The Taylor series will converge globally for functions that behave like polynomials (\\(exp(x)\\)).\nTaylor series is often used in numerical methods to describe “the order of accuracy” or “order of convergence” of a particular numerical method. For instance, in numerical integration, a method is second-order accurate if it accurately estimates the Taylor series’ constant, linear, and quadratic terms. A strong understanding of the Taylor series helps understand many numerical methods.\nOther infinite series exist, such as the Laurent or the Power series. Padé approximant is very similar to a truncated Taylor series but is instead a ratio of two polynomials. Laurent, Power, and Padé approximant may be discussed on other Numerical Methods pages."
  },
  {
    "objectID": "pages/numerical-methods/taylor-series.html#resources",
    "href": "pages/numerical-methods/taylor-series.html#resources",
    "title": "Taylor Series",
    "section": "Resources",
    "text": "Resources\nNo math is shown here because excellent documentation is easily found in other places, such as Wikipedia and Mathworld.\n\nTaylor Series at Wolfram Mathworld\nTaylor Series Wikipedia"
  },
  {
    "objectID": "pages/numerical-methods/taylor-series.html#animations",
    "href": "pages/numerical-methods/taylor-series.html#animations",
    "title": "Taylor Series",
    "section": "Animations",
    "text": "Animations\n\n\\(exp(x)\\) about 0 and 1\nThe Taylor series of \\(exp(x)\\) about 0 has an infinite radius of convergence. Higher and higher-order Taylor series truncations converge more and more to \\(exp(x)\\). \\(exp(x)\\) about 1 is similar to \\(exp(x)\\) about 0, except that the expansion point is 1.\n\n\n\n\n\\(sin(x)\\) about 0 and 0.5\nSine behaves similarly to a polynomial locally, so the Taylor series converges. The radius of convergence is infinite.\n\n\n\n\n\\(tanh(x)\\) about 0 and 0.5\nTanh has two horizontal asymptotes. The Taylor series has a limited radius of convergence.\n\n\n\n\n\\(arctan(x)\\) about 0 and 0.5\narctan has two horizontal asymptotes similar to tanh. The radius of convergence is limited.\n\n\n\n\n\\(1/x\\) about 0.5 and \\(1/(x-1)\\) about 0.75\nThe Taylor series does not converge across a vertical asymptote.\n\n\n\n\n\\(sqrt(abs(x))*sign(x)\\) about 0.5\nThis function contains two discontinuous functions, abs and sign. This function often is used by engineers to simulate lump parameter fluid flow. This function is a poor choice because of the infinite derivative at x=0 of the sqrt function and the discontinuities of sign and abs. The Taylor series cannot converge across x=0."
  },
  {
    "objectID": "pages/numerical-methods/index.html",
    "href": "pages/numerical-methods/index.html",
    "title": "Numerical Methods",
    "section": "",
    "text": "I plan to put together short explanations and animations on various numerical methods and math-related topics here. It will take me a long time to put this together totally. So, please be patient."
  },
  {
    "objectID": "pages/numerical-methods/index.html#function-approximation",
    "href": "pages/numerical-methods/index.html#function-approximation",
    "title": "Numerical Methods",
    "section": "Function Approximation",
    "text": "Function Approximation\n\nFunction Approximation at a Point\n\nTaylor Series\nPadé approximant\nLaurent series\n\n\n\nOthers\n\nPower Series\nFourier series"
  },
  {
    "objectID": "pages/numerical-methods/index.html#interpolation",
    "href": "pages/numerical-methods/index.html#interpolation",
    "title": "Numerical Methods",
    "section": "Interpolation",
    "text": "Interpolation\n\nLagrange Polynomials"
  },
  {
    "objectID": "pages/numerical-methods/index.html#solutions-of-equations-in-one-variable",
    "href": "pages/numerical-methods/index.html#solutions-of-equations-in-one-variable",
    "title": "Numerical Methods",
    "section": "Solutions of Equations in One Variable",
    "text": "Solutions of Equations in One Variable"
  },
  {
    "objectID": "pages/numerical-methods/index.html#numerical-differentiation",
    "href": "pages/numerical-methods/index.html#numerical-differentiation",
    "title": "Numerical Methods",
    "section": "Numerical Differentiation",
    "text": "Numerical Differentiation"
  },
  {
    "objectID": "pages/numerical-methods/index.html#numerical-integration",
    "href": "pages/numerical-methods/index.html#numerical-integration",
    "title": "Numerical Methods",
    "section": "Numerical Integration",
    "text": "Numerical Integration"
  },
  {
    "objectID": "pages/numerical-methods/index.html#ordinary-differential-equation-solvers",
    "href": "pages/numerical-methods/index.html#ordinary-differential-equation-solvers",
    "title": "Numerical Methods",
    "section": "Ordinary Differential Equation Solvers",
    "text": "Ordinary Differential Equation Solvers"
  },
  {
    "objectID": "pages/numerical-methods/index.html#direct-methods-for-linear-systems-of-equations",
    "href": "pages/numerical-methods/index.html#direct-methods-for-linear-systems-of-equations",
    "title": "Numerical Methods",
    "section": "Direct Methods for Linear Systems of equations",
    "text": "Direct Methods for Linear Systems of equations"
  },
  {
    "objectID": "pages/numerical-methods/index.html#iterative-techniques-for-linear-systems",
    "href": "pages/numerical-methods/index.html#iterative-techniques-for-linear-systems",
    "title": "Numerical Methods",
    "section": "Iterative Techniques for Linear Systems",
    "text": "Iterative Techniques for Linear Systems"
  },
  {
    "objectID": "pages/numerical-methods/index.html#solvers-for-nonlinear-systems-of-equations",
    "href": "pages/numerical-methods/index.html#solvers-for-nonlinear-systems-of-equations",
    "title": "Numerical Methods",
    "section": "Solvers for Nonlinear Systems of Equations",
    "text": "Solvers for Nonlinear Systems of Equations"
  },
  {
    "objectID": "pages/numerical-methods/index.html#fitting",
    "href": "pages/numerical-methods/index.html#fitting",
    "title": "Numerical Methods",
    "section": "Fitting",
    "text": "Fitting"
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Blog",
    "section": "",
    "text": "Summary of a second order cavitation model\n\n\n\n\n\n\n\n\nDec 21, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nThe full cavitation model with only NCG (no vapor)\n\n\n\n\n\n\n\n\nDec 21, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nSummary of the full cavitation model\n\n\n\n\n\n\n\n\nDec 20, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nJake’s command line tools\n\n\n\n\n\n\n\n\nDec 16, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nUnderstanding how damping ratio affects the poles of a second order system\n\n\n\n\n\n\n\n\nDec 13, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nCAE Workstation setup\n\n\n\n\n\n\n\n\nDec 5, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nRe-encoding a Google photo/video album\n\n\n\n\n\n\n\n\nNov 30, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nEncoding many videos with ffmpeg, handbrake, and nvencc\n\n\n\n\n\n\n\n\nNov 28, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nSetting up a website and email - DNS, GitHub, Markdown\n\n\n\n\n\n\n\n\nNov 28, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nSwitching to Quarto from Franklin.jl\n\n\n\n\n\n\n\n\nNov 28, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nConverting a docx to md - Math, tables, and html\n\n\n\n\n\n\n\n\nNov 19, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nSetting Up a Franklin.jl Blog\n\n\n\n\n\n\n\n\nNov 11, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nEngineering Workstation Build\n\n\n\n\n\n\n\n\nNov 12, 2024\n\n\n\n\n\n\n\n\n\n\n\n\nTrust-Region-Dogleg and Newton-Raphson - A Quick Comparison on a 5th order polynomial\n\n\n\n\n\n\n\n\nOct 24, 2021\n\n\n\n\n\n\n\n\n\n\n\n\nNeural Networks. Controls, and System Identification\n\n\n\n\n\n\n\n\nJul 19, 2021\n\n\n\n\n\n\n\n\n\n\n\n\nSystem Identification Resources\n\n\n\n\n\n\n\n\nJul 19, 2021\n\n\n\n\n\n\n\n\n\n\n\n\nLinux HTML Documentation Index\n\n\n\n\n\n\n\n\nMay 9, 2021\n\n\n\n\n\n\n\n\n\n\n\n\nNonlinear Equation System Solving Using Newton, Line Search, and LU factorization\n\n\n\n\n\n\n\n\nApr 12, 2021\n\n\n\n\n\n\n\n\n\n\n\n\nSSH, Windows, Web Servers, Linux, and Visual Studio Code\n\n\n\n\n\n\n\n\nDec 31, 2020\n\n\n\n\n\n\n\n\n\n\n\n\nObject-Oriented Programming Decline - The Rise of other Paradigms\n\n\n\n\n\n\n\n\nNov 15, 2020\n\n\n\n\n\n\n\n\n\n\n\n\nTime and Quality Work\n\n\n\n\n\n\n\n\nNov 14, 2020\n\n\n\n\n\n\n\n\n\n\n\n\nReverse Engineering a Graph\n\n\n\n\n\n\n\n\nMar 5, 2020\n\n\n\n\n\n\n\n\n\n\n\n\nUsing the Shortname\n\n\n\n\n\n\n\n\nFeb 15, 2020\n\n\n\n\n\n\n\n\n\n\n\n\nFFmpeg, The -crf Option, iPhone Videos, and Corporate Networks\n\n\n\n\n\n\n\n\nJan 22, 2020\n\n\n\n\n\n\n\n\n\n\n\n\nShort and Long Name VBA Functions\n\n\n\n\n\n\n\n\nJan 22, 2020\n\n\n\n\n\n\n\n\n\n\n\n\nHow to Export Your VBA Macros for Storage in a GIT/SVN Repository\n\n\n\n\n\n\n\n\nDec 6, 2019\n\n\n\n\n\n\n\n\n\n\n\n\nNASA T-MATS\n\n\n\n\n\n\n\n\nJun 17, 2019\n\n\n\n\n\n\n\n\n\n\n\n\nComprehensive List of Lumped Parameter Simulation Software\n\n\n\n\n\n\n\n\nJun 7, 2019\n\n\n\n\n\n\n\n\n\n\n\n\nCAELinux\n\n\n\n\n\n\n\n\nMay 29, 2019\n\n\n\n\n\n\n\n\n\n\n\n\nCFD, FEA, and Multiphysics Simulation\n\n\n\n\n\n\n\n\nMay 29, 2019\n\n\n\n\n\n\n\n\n\n\n\n\nPiston Rings Multiphysics Simulation\n\n\n\n\n\n\n\n\nMay 29, 2019\n\n\n\n\n\n\n\n\n\n\n\n\nCoding on a Saturday Night\n\n\n\n\n\n\n\n\nOct 21, 2018\n\n\n\n\n\n\n\n\n\n\n\n\nA Comparison Between Differential Equation Solver Suites\n\n\n\n\n\n\n\n\nOct 16, 2018\n\n\n\n\n\n\n\n\n\n\n\n\nComsol is Great\n\n\n\n\n\n\n\n\nMar 24, 2018\n\n\n\n\n\n\n\n\n\n\n\n\nSimerics Pumplinx Hex Mesh Tutorial\n\n\n\n\n\n\n\n\nFeb 16, 2018\n\n\n\n\n\n\n\n\n\n\n\n\nSix Myths of Polynomial Interpolation and Quadrature\n\n\n\n\n\n\n\n\nFeb 27, 2017\n\n\n\n\n\n\n\n\n\n\n\n\nCreating a Custom Header in Wordpress\n\n\n\n\n\n\n\n\nFeb 22, 2017\n\n\n\n\n\n\n\n\n\n\n\n\nTransmission Line Method\n\n\n\n\n\n\n\n\nFeb 22, 2017\n\n\n\n\n\n\n\n\n\n\n\n\nMy Introduction to Computational Fluid Dynamics (CFD)\n\n\n\n\n\n\n\n\nMay 7, 2016\n\n\n\n\n\n\n\n\n\n\n\n\nDifferential Algebraic Equations (DAE’s)\n\n\n\n\n\n\n\n\nFeb 2, 2016\n\n\n\n\n\n\n\n\n\n\n\n\nA Good Nerd Laugh\n\n\n\n\n\n\n\n\nJan 18, 2015\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "I am a mechanical engineer looking for the next innovation. This means gathering knowledge and using it to create something new."
  },
  {
    "objectID": "about.html#links",
    "href": "about.html#links",
    "title": "About",
    "section": "Links",
    "text": "Links\n\nLinkedIn Page\nMy files at MathWorks File Exchange - MATLAB code I contributed to the community.\nMy MATLAB Cody Page - Cody is a place where students can learn MATLAB by solving problems.  You are ranked based on how many problems you have solved.\nMy GitHub"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Jason H. Nicholson",
    "section": "",
    "text": "This is the webpage of Jason H. Nicholson. It’s a blog and documentation on various topic but mostly engineering, math, computer science, and physics.\nNavigation is on the left. There is a blog. There several special interest pages such as Numerical Methods and System Identification. My About page has several outside links."
  },
  {
    "objectID": "pages/numerical-methods/pade-approximant.html",
    "href": "pages/numerical-methods/pade-approximant.html",
    "title": "Padé approximant",
    "section": "",
    "text": "Padé approximant is a rationale function approximation expanded from a function value and the derivative function values similar to Taylor Series. Often, Padé approximant’s can converge when Taylor Series does not even though both use the same information at a point. The key is Taylor Series is a polynomial while Padé approximant is a rationale function. Rationale functions can have singularities/vertical-asymptotes and horizontal asymptotes. Polynomials do not have asymptotes or singularities.\nHigh-order Padé Approximants can be hard to compute because of how fast the coefficients grow. Total orders (denominator plus numerator order) of less than 20 fail at times for MATLAB’s symbolic pade function in the code below. padeapprox from chebfun also struggles. It takes a lot of effort to compute a high-order Padé approximate.\nThe most useful way to understand Padé approximant is to watch the animations below. For details on the construction, see the resources section below."
  },
  {
    "objectID": "pages/numerical-methods/pade-approximant.html#summary",
    "href": "pages/numerical-methods/pade-approximant.html#summary",
    "title": "Padé approximant",
    "section": "",
    "text": "Padé approximant is a rationale function approximation expanded from a function value and the derivative function values similar to Taylor Series. Often, Padé approximant’s can converge when Taylor Series does not even though both use the same information at a point. The key is Taylor Series is a polynomial while Padé approximant is a rationale function. Rationale functions can have singularities/vertical-asymptotes and horizontal asymptotes. Polynomials do not have asymptotes or singularities.\nHigh-order Padé Approximants can be hard to compute because of how fast the coefficients grow. Total orders (denominator plus numerator order) of less than 20 fail at times for MATLAB’s symbolic pade function in the code below. padeapprox from chebfun also struggles. It takes a lot of effort to compute a high-order Padé approximate.\nThe most useful way to understand Padé approximant is to watch the animations below. For details on the construction, see the resources section below."
  },
  {
    "objectID": "pages/numerical-methods/pade-approximant.html#resources",
    "href": "pages/numerical-methods/pade-approximant.html#resources",
    "title": "Padé approximant",
    "section": "Resources",
    "text": "Resources\nWikipedia Padé approximate - A good overview of Pade’s approximate.\nMatlab Symbolic Pade Approximant Page\nChebfun has a function called padeapprox that calculates a Padé approximant numerically. padeapprox is based on this paper, Robust Padé Approximation via SVD."
  },
  {
    "objectID": "pages/numerical-methods/pade-approximant.html#animations",
    "href": "pages/numerical-methods/pade-approximant.html#animations",
    "title": "Padé approximant",
    "section": "Animations",
    "text": "Animations\n\n\\(exp(x)\\) about 0 and 1\n\n\n\n\n\\(tanh(x)\\) about 0 and 0.5\n\n\n\n\n\\(arctan(x)\\) about 0 and 0.5\n\n\n\n\n\\(1/x\\) about 0.5\n\n\n\n\\(1/(x-1)\\) about 0.75\n\n\n\n\\(sin(x)\\) about 0 and 0.5\n\n\n\n\n\\(x/(x^2 + 0.01^2)^\\frac{1}{4}\\) about 0.5\n\n\n\nRunge function, \\(1/(1+25x^2)\\) about 0 and 0.5"
  },
  {
    "objectID": "pages/system-identification/index.html",
    "href": "pages/system-identification/index.html",
    "title": "System Identification",
    "section": "",
    "text": "What is System Identification? System Identification Wikipedia"
  },
  {
    "objectID": "pages/system-identification/index.html#definition",
    "href": "pages/system-identification/index.html#definition",
    "title": "System Identification",
    "section": "",
    "text": "What is System Identification? System Identification Wikipedia"
  },
  {
    "objectID": "pages/system-identification/index.html#books",
    "href": "pages/system-identification/index.html#books",
    "title": "System Identification",
    "section": "Books",
    "text": "Books\nLennart, Ljung. “System identification: theory for the user.” PTR Prentice Hall, Upper Saddle River, NJ 28 (1999). Errata can be found here.\nJuang, Jer-Nan. Applied system identification. Prentice-Hall, Inc., 1994.\nMorelli, Eugene A., and Vladislav Klein. Aircraft system identification: theory and practice. Vol. 2. Williamsburg, VA: Sunflyte Enterprises, 2016.\nSoderstrom and P. Stoica, System Identification, Prentice Hall. 1989 (available for download from the author’s website)\nBrunton, Steven L., and J. Nathan Kutz. Data-driven science and engineering: Machine learning, dynamical systems, and control. Cambridge University Press, 2022. Available here: https://www.databookuw.com/\nI have created a list of system identification books via WorldCat. WorldCat allows you to search libraries across the wold. WorldCat Book List."
  },
  {
    "objectID": "pages/system-identification/index.html#researchers",
    "href": "pages/system-identification/index.html#researchers",
    "title": "System Identification",
    "section": "Researchers",
    "text": "Researchers\nGoogle Scholar search by System Identification label."
  },
  {
    "objectID": "pages/system-identification/index.html#online-course",
    "href": "pages/system-identification/index.html#online-course",
    "title": "System Identification",
    "section": "Online Course",
    "text": "Online Course\nSystem Identification by Roy Stephen Smith from ETH Zürich. Video lectures only. At the time of writing this, a course webpage that is more current than the lectures can be found here.\nSystem Identification and Parameter Estimation from TUDelft OpenCourseWare. Has videos.\nSystem Identification at Linköping University. Not an online course but gives a recommended schedule of lectures and readings. To preserve this information for the future, a screenshot is below of the schedule.\n\n\n\nExample Course schedlue. Schedule for System Identification 2020\n\n\nLecture notes and recordings for ECE5560: System Identification. Uses Lennart Ljung’s book.\nSystem Identification IIT Madras, Prof. Dr. Arun K.Tangirala. Video lectures are available.\nSystem Identification via MIT OpenCourseWare - This course uses Lennart Ljung’s Book. No videos. A syllabus (outline), calendar, lecture notes, and assignments are available.\nSystem identification: parametric approach an approximate 27-hour (English) lecture series on system identification using parametric approaches. See the selected topics and handouts at http://jitkomut.eng.chula.ac.th/ee531… Instructor: Jitkomut Songsiri, Chulalongkorn University, Thailand\nIdentification, Estimation, and Learning MIT 2.160\n2.160 Identification, Estimation, and Learning Youtube\n2.160 Identification, Estimation, and Learning Panopto Video\nhttps://darbelofflab.mit.edu/teaching/ Slides and Notes can be obtained from links on this page."
  },
  {
    "objectID": "pages/system-identification/index.html#videos",
    "href": "pages/system-identification/index.html#videos",
    "title": "System Identification",
    "section": "Videos",
    "text": "Videos\nTechnical Seminar: ‘Quest for Aircraft Stability and Control’ by Eugene Morelli. Testing of full-scale aircraft in flight to validate or improve predictions obtained through wind tunnel testing or CFD calculations is expensive and time-consuming. Being able to test aircraft stability and control using real-time onboard computations is now within reach and has far-reaching implications for efficient flight testing, control system design, aircraft health monitoring, pilot training, aircraft fleet maintenance, and safety. Aired May 18, 2007.\nIntroduction to System Identification. An introduction to System Identification with the System Identification Toolbox in MATLAB. Lennart Ljung is the presenter.\nLinear system identification video lecture - YouTube playlist. The video course “System identification - linear theory” introduces the student to linear system identification techniques based on data-driven modeling techniques. The focus lies on experiment design, understanding and selecting model structures, and computing the best model within the model set using prediction error methods and model validation.\nSystem Identification. Videos by Brian Douglas. Throughout the series, see the system identification workflow through several different examples that highlight the importance of data collection, model selection, model fitting, and model validation in MATLAB with the System Identification Toolbox."
  },
  {
    "objectID": "pages/system-identification/index.html#software",
    "href": "pages/system-identification/index.html#software",
    "title": "System Identification",
    "section": "Software",
    "text": "Software\nMathWorks System Identification Toolbox This one is written by Lenart Ljung at least initially. His book is linked above. Uses Lennart Ljung’s book.\nSystem/Observer/Controller Identification Toolbox (SOCIT) This one is written at least initially by Jer-Nan Juang; his book is linked above. This is free but export-controlled.\nSOCIT is a collection of functions, written in MATLAB language and expressed in M-files, that implements a variety of modern system identification techniques. For an open-loop system, it features functions for identification of a system model and corresponding forward and backward observers directly from input and output data. For a closed-loop system, SOCIT identifies an open-loop model, an observer, and a corresponding controller gained directly from input and output data.\nSystem IDentification Programs for AirCraft (SIDPAC) This one is written and maintained by Gene Morelli. His book is linked above. It is free and allowed for foreign use (not export controlled).\nWritten in MATLAB, SIDPAC is a collection of over 300 programs that perform a wide variety of tasks related to system identification applied to aircraft. SIDPAC includes tools for experiment design, data analysis, kinematic consistency checking, static and dynamic modeling, simulation, numerical integration and differentiation, smoothing, filtering, finite Fourier transformation, statistical modeling and evaluation, optimization, parameter estimation, model accuracy quantification, model validation, and more."
  },
  {
    "objectID": "pages/system-identification/index.html#github-repositories",
    "href": "pages/system-identification/index.html#github-repositories",
    "title": "System Identification",
    "section": "Github Repositories",
    "text": "Github Repositories\nMataveid System identification toolbox for GNU Octave and MATLAB was written by Daniel Mårtensson. It is mostly based on Applied System Identification.\nMore to come here…."
  },
  {
    "objectID": "pages/system-identification/index.html#links",
    "href": "pages/system-identification/index.html#links",
    "title": "System Identification",
    "section": "Links",
    "text": "Links\nDatabase for the Identification of Systems (DaISy)\nTEACHING SYSTEM IDENTIFICATION. GOALS AND FORMATS FOR DIFFERENT COURSES. Paper by Lennart Ljung"
  },
  {
    "objectID": "posts/2016/02/2016-02-02-differential-algebraic-equations-daes.html",
    "href": "posts/2016/02/2016-02-02-differential-algebraic-equations-daes.html",
    "title": "Differential Algebraic Equations (DAE’s)",
    "section": "",
    "text": "Often Ordinary Differential Equations (ODE’s) are studied in engineering, especially system dynamics and control theory. However, there are many cases where the system is described by Differential Algebraic Equations (DAE’s) rather than an ODE system.\nHere are some resources related to the issue:\nComputer methods for ordinary differential equations and differential-algebraic equations is the most famous book on DAE’s I have come across. When you read articles on DAE’s, authors usually references this book.\nAscher, Uri M., and Linda R. Petzold. Computer methods for ordinary differential equations and differential-algebraic equations. Vol. 61. Siam, 1998. https://goo.gl/vmpq5l\nI came across this book related to control theory and DAE’s. It looks interesting because it’s control theory for DAE’s.\nBerger, Thomas. On differential-algebraic control systems. Diss. Technische Universität Berlin, 2013. http://goo.gl/w4m5ms"
  },
  {
    "objectID": "posts/2017/02/2017-02-22-creating-a-custom-header-in-wordpress.html",
    "href": "posts/2017/02/2017-02-22-creating-a-custom-header-in-wordpress.html",
    "title": "Creating a Custom Header in Wordpress",
    "section": "",
    "text": "I used an image for header that I wanted to cite the photographer with a link to his website. There isn’t a clear way to do this in Wordpress tools. Therefore, I searched and found that I could edit the header.php file for the theme I was using to customize the header.  The header.php file is located at ./wp-content/themes/myThemeName where myThemeName was twentytwelve. i.e.  ./wp-content/themes/twentytwelve/header.php.\nI added this piece of code to header.php before the ending\n\ntag:\nImage by Nick Wooley\nLike this:\n\nThis piece of code has the effect that the header for my Wordpress website has a link to the photographer’s website like below.\n\nThe downside to modifying header.php is that it gets overwritten when updates to the theme are made. Ugh! Make sure to document the modifications to header.php. Backing it up is undesirable because security updates may change the header.php code and thus restoring an older version may introduce security issues.\nSee the results of modifying header.php here: http://www.teamvardo.com/"
  },
  {
    "objectID": "posts/2017/02/2017-02-27-six-myths-of-polynomial-interpolation-and-quadrature.html",
    "href": "posts/2017/02/2017-02-27-six-myths-of-polynomial-interpolation-and-quadrature.html",
    "title": "Six Myths of Polynomial Interpolation and Quadrature",
    "section": "",
    "text": "I found a profound paper written by Professor Lloyd N. Trefethen entitled Six Myths of Polynomial Interpolation and Quadrature. This paper is profound because it goes against a lot of the mainstream things that I have learned related to polynomials. After watching Professor Trefethen’s lectures, I found that he is right and knows what he is talking about. Read the paper. It is worth your time.\nIf the link ever gets deleted, the paper is available here: mythspaper"
  },
  {
    "objectID": "posts/2018/03/2018-03-24-comsol-is-great.html",
    "href": "posts/2018/03/2018-03-24-comsol-is-great.html",
    "title": "Comsol is Great",
    "section": "",
    "text": "Definitely one of my favorite CAE programs is Comsol. I will tell you why. But first, some background. I have used a lot of CAE software, to make a short list:\n\nagros2d\nComsol/Femlab\nCalculiX\nElmer\nZ88\nAutodesk Simulation (formerly Algor)\nANSYS\nSolidworks Simulation (CosmosWorks)\nNX CAE, Nastran, Flow, etc.\nSimerics Pumplinx\nCode_Aster\nSalome\nOpenFoam\n\nI am a power user of CAE. I have done a lot and thus seen a lot FEA and CFD. I am also a fan so I read up on the latest techniques such XFEM for crack propagation.\nSo, in looking at many different platforms, I can say that COMSOL is a very rich and modern platform. Every place you enter information, you can enter an expression. This is important because almost anything can be linked or made dependent on something else. For example, a viscosity that is locally pressure and temperature dependent can be implemented based a 2d lookup table in COMSOL. Another example is solving simple contact problems. Contact is where the loads are displacement dependent. Thus, if you can define the function that defines the force or pressure between two surfaces as a function of position, then you can solve a contact problem without having to use a searching algorithm between surfaces. This is useful for simple problems and may not be so useful in complicated problems where defining the displacement dependent forcing function is difficult.\nCOMSOL is a much better program than ANSYS even though ANSYS is the industry defacto standard for FEA. COMSOL is easier to use and more modern in the interface and coupling of Multiphysics. The couple between different physics is done via modules or input your own PDE. While entering your own PDE sounds daunting, you don’t have to do that. You can just mix and match the modules using expression to couple material, boundary conditions, mesh, and other phenomenon to get the desire results.\nFinal comments: The COMSOL User interface is a thing of beauty. The documentation is outstanding.\nHere is some screen shots from solving the Flow Past a cylinder example.\n\n\n\nExample of a Comsol expression for a time dependent velocity.\n\n\nVelocity field in flow past a cylinder example.\n\n\n\nVelocity Field Past a Cylinder\n\n\n\n\n\nThis one of the large expressions used for particle tracking in a fluid. It is an expression…. A big one."
  },
  {
    "objectID": "posts/2018/10/2018-10-21-coding-on-a-saturday-night.html",
    "href": "posts/2018/10/2018-10-21-coding-on-a-saturday-night.html",
    "title": "Coding on a Saturday Night",
    "section": "",
    "text": "Sitting here. Learning CLion IDE. Learning C++. Installing Rust. Checking the Julia Micro-Benchmarks to see where the languages are at https://julialang.org/benchmarks/."
  },
  {
    "objectID": "posts/2019/05/2019-05-29-cfd-fea-and-multiphysics-simulation.html",
    "href": "posts/2019/05/2019-05-29-cfd-fea-and-multiphysics-simulation.html",
    "title": "CFD, FEA, and Multiphysics Simulation",
    "section": "",
    "text": "I have been working on learning the Deal.ii library. Why? Because it is one of the most advanced finite element libraries I have come across. It can handle adaptive mesh refinement, multiphysics, hex-dominant, and open source. This level of detail in an open source library is amazing. If you want to buy commercial software equivalent, then you are looking at $50-100k.\n\n\n\nAdaptive Mesh Refinement\n\n\nThe barrier to Deal.ii is that you need to program in C++. Ouch. So that learning curve is steep. I have to learn the build system, a C++ IDE, C++, and Deal.ii all at the same time. I think it will be worth it."
  },
  {
    "objectID": "posts/2019/06/2019-06-07-comprehensive-list-of-lumped-parameter-simulation-software.html",
    "href": "posts/2019/06/2019-06-07-comprehensive-list-of-lumped-parameter-simulation-software.html",
    "title": "Comprehensive List of Lumped Parameter Simulation Software",
    "section": "",
    "text": "Comprehensive List of Lumped Parameter Simulation Software\nThe Functional Mockup Interface (FMI) website has an outstanding list of simulation software.\nhttps://fmi-standard.org/tools/"
  },
  {
    "objectID": "posts/2019/12/2019-12-06-how-to-export-your-vba-macros-for-storage-in-a-git-svn-repository.html",
    "href": "posts/2019/12/2019-12-06-how-to-export-your-vba-macros-for-storage-in-a-git-svn-repository.html",
    "title": "How to Export Your VBA Macros for Storage in a GIT/SVN Repository",
    "section": "",
    "text": "This shows a quick workflow I use to handle VBA Macros so that they are diffed properly in a GIT/SVN repository.\nHere is the example workbook.\nOption Explicit\n Sub SaveCodeModules()\n 'This code Exports all VBA modules\n Dim i As Integer\n Dim sName As String\n With ThisWorkbook.VBProject\n     For i% = 1 To .VBComponents.Count\n             sName = .VBComponents(i).CodeModule.Name\n             .VBComponents(i).Export ThisWorkbook.Path & \"\\\" & sName$ & \".vb\"\n     Next i\n End With\n End Sub"
  },
  {
    "objectID": "posts/2020/01/2020-01-22-short-and-long-name-vba-functions.html",
    "href": "posts/2020/01/2020-01-22-short-and-long-name-vba-functions.html",
    "title": "Short and Long Name VBA Functions",
    "section": "",
    "text": "From time to time I write VBA. One of the things I have needed is what is called the short path. If you ever worked at the command line, it looks like what is shown below. “PROGRA~1” is the short name for “Program Files”.\nC:\\&gt;dir /x *\n\n Directory of C:\\\n\n01/20/2020  04:09 PM    &lt;DIR&gt;          PROGRA~1     Program Files\n01/22/2020  02:05 AM    &lt;DIR&gt;          PROGRA~2     Program Files (x86)\n11/24/2019  12:07 AM    &lt;DIR&gt;          SOLIDW~1     SOLIDWORKS Data\n11/23/2019  10:26 PM    &lt;DIR&gt;                       Users\n01/10/2020  07:41 AM    &lt;DIR&gt;                       Windows\n               0 File(s)              0 bytes\n              10 Dir(s)  347,556,667,392 bytes free\nShort names can be useful when processing file names that are hard to parse. For instance, dumping a file list to a Comma Separated Values file. If one of the paths has a comma, that path will get separated into separate values. One way to deal with this is to just put the path in quotes like this C:\\my path\\ with a, comma\\folder The other way to deal with this just store the short path/name. Usually, when I have used the short name, I have needed it in Excel. Therefore, I have a couple of functions written VBA that I use. They are shown below. One of them returns the short name and the other returns the long name.\nOption Explicit\n\n' Max length of a long path\nPrivate Const MAX_PATH = 32768\n\n' Declarations hooking into Windows API\nPrivate Declare Function GetLongPathNameW Lib \"kernel32\" (ByVal lpszShortPath As Long, ByVal lpszLongPath As Any, ByVal cchBuffer As Long) As Long\nPrivate Declare Function GetShortPathNameW Lib \"kernel32\" (ByVal lpszLongPath As Long, ByVal lpszShortPath As Any, ByVal cchBuffer As Long) As Long\n\nPublic Function GetLongPathName(strShortPath As String) As String\n    Dim strLongPath As String * MAX_PATH\n    Dim lLongPathLength As Long\n    \n    ' Call WIndows API for long path in Unicode\n    lLongPathLength = GetLongPathNameW(StrPtr(strShortPath), strLongPath, MAX_PATH)\n    \n    ' Handle Any errors before returning\n    If lLongPathLength = 0 Then\n            GetLongPathName = CVErr(xlErrValue)\n    Else\n        'Convert string and discard extra characters\n        GetLongPathName = Left$(StrConv(strLongPath, vbFromUnicode), lLongPathLength)\n    End If\nEnd Function\n\nPublic Function GetShortName(ByVal strLongPath As String) As String\n    Dim strShortPath As String * MAX_PATH\n    Dim lShortPathLength As Long\n    \n    ' Call Windows API for short path in Unicode\n    ' \\\\?\\ must be prepended because this will allow for paths longer than 260 characters\n    lShortPathLength = GetShortPathNameW(StrPtr(\"\\\\?\\\" & strLongPath), strShortPath, MAX_PATH)\n    \n    ' Handle Any errors before returning\n    If lShortPathLength = 0 Then\n        GetShortName = CVErr(xlErrValue)\n    Else\n        'Convert string and discard extra characters\n        GetShortName = Mid$(StrConv(strShortPath, vbFromUnicode), 5, lShortPathLength - 4)\n    End If\nEnd Function"
  },
  {
    "objectID": "posts/2020/03/2020-03-05-reverse-engineering-a-graph.html",
    "href": "posts/2020/03/2020-03-05-reverse-engineering-a-graph.html",
    "title": "Reverse Engineering a Graph",
    "section": "",
    "text": "Sometimes you need data from a graph. WebPlotDigitizer is one way you can extract the data in an automated way. Check out the video below.\nWebPlotDigitizer"
  },
  {
    "objectID": "posts/2020/11/2020-11-15-object-oriented-programming-decline-the-rise-of-other-paradigms.html",
    "href": "posts/2020/11/2020-11-15-object-oriented-programming-decline-the-rise-of-other-paradigms.html",
    "title": "Object-Oriented Programming Decline - The Rise of other Paradigms",
    "section": "",
    "text": "I listen to a lot of computer science-related talks and podcasts. Recently, I have seen a trend away from the object-oriented paradigm. The premise is fusing your data and functions together is hard to maintain at scale. I agree. A better approach is only loosely to tie your data to the functions. I see this in the Julia language, for instance.\nI watched several videos that led me to gather a little information on the issues. The first one was Why Isn’t Functional Programming the Norm? – Richard Feldman. He talks about why object-oriented programming came to be the norm in the ’90s and 2000s. The main reason he describes is Java. There is more to, but there isn’t a strong reason why the industry embraced object-oriented programming.\nNext, the following video showed up in my YouTube feed: Object-Oriented Programming is Bad. The title is severe, and the content is less severe. The main issue comes back to that fusing your data and methods together doesn’t scale well.\nLastly, I watched JuliaCon 2019 | The Unreasonable Effectiveness of Multiple Dispatch | Stefan Karpinski as I explore the Julia language. The Julia Language focuses on generic programming, which is amazing that the same code can be used for different data. Generic programming generally requires splitting the data out from the algorithm, which goes against object-oriented programming."
  },
  {
    "objectID": "posts/2021/04/2021-04-12-nonlinear-equation-system-solving-using-newton-line-search-and-lu-factorization.html",
    "href": "posts/2021/04/2021-04-12-nonlinear-equation-system-solving-using-newton-line-search-and-lu-factorization.html",
    "title": "Nonlinear Equation System Solving Using Newton, Line Search, and LU factorization",
    "section": "",
    "text": "A couple of weeks ago, I was inspired to revisit Newton’s method for solving nonlinear equations. I was reminded of my undergrad days when I read a paper by Madsen and Reid about finding the roots of a polynomial. What struck me at that time is Madsen-Reid’s application of Newton’s method with a line search was faster than any other algorithm. The Madsen-Reid papers were written in 1973 and 1975. Ever since then, when another paper benchmarked various algorithms to find roots of polynomials, Madsen-Reid would win; to my knowledge, if root-finding of polynomials is benchmarked in literature and the Fortran Madsen-Reid algorithm (PA16 and/or PA17) is used, the Madsen-Reid algorithm is the fastest and nearly the most accurate. What made the algorithm so successful? How can this generalize to solving a set of nonlinear equations? In this post, I plan to discuss these ideas.\nNote that I have a little math syntax but not as much as you would find in a math article or paper. This means my language is a little more inexact and high level without explaining all the detail."
  },
  {
    "objectID": "posts/2021/04/2021-04-12-nonlinear-equation-system-solving-using-newton-line-search-and-lu-factorization.html#case-1-x-lbrack-00rbrackt",
    "href": "posts/2021/04/2021-04-12-nonlinear-equation-system-solving-using-newton-line-search-and-lu-factorization.html#case-1-x-lbrack-00rbrackt",
    "title": "Nonlinear Equation System Solving Using Newton, Line Search, and LU factorization",
    "section": "Case 1, \\(x = \\lbrack 0,0\\rbrack^{T}\\)",
    "text": "Case 1, \\(x = \\lbrack 0,0\\rbrack^{T}\\)\n\\(F\\) and J are\n\\[F = \\left\\lbrack \\begin{matrix}\n- 2 \\\\\n- 5\n\\end{matrix}\\  \\right\\rbrack\\]\n\\[J = \\begin{bmatrix}\n0 & 0 \\\\\n1 & 0\n\\end{bmatrix}\\]\nIf we explicitly write out the equations for \\(D\\) we get:\n\\[{0*D_{1} + 0*D_{2} = 2\n}{1*D_{1} + 0*D_{2} = 5}\\]\nThe \\(LU\\) with partial pivoting is\n\\[L = \\begin{bmatrix}\n1 & 0 \\\\\n0 & 1\n\\end{bmatrix}\\]\n\\[U = \\begin{bmatrix}\n1 & 0 \\\\\n0 & 0\n\\end{bmatrix}\\]\n\\[P = \\begin{bmatrix}\n0 & 1 \\\\\n1 & 0\n\\end{bmatrix}\\]\nSince \\(U(2,2)\\) is 0, the Jacobian is singular. The last column of \\(P\\) tells us what equation we can eliminate. In this case, we can eliminate the first equation. I think that the \\(P(1,2)\\) implies that the second column can be eliminated; this is more easily seen in explicitly writing out the equations for \\(D\\) above. Thus, we have\n\\[1*D_{1} = 5\n\\]and we replace the column that we lost with\n\\[D_{2} = 0\\]\nWe can see what our direction should be is\n\\[D = \\begin{bmatrix}\n5 \\\\\n0\n\\end{bmatrix}\\]\nHowever, we need to work this out from the \\(LU\\) factorization so we can use it more generally later. We replace the second column of U with 1 on the diagonal. The new \\(U\\) is\n\\[U = \\begin{bmatrix}\n1 & 0 \\\\\n0 & 1\n\\end{bmatrix}\\]\nWe need to replace the last row of \\(L\\) with one on the diagonal. The new \\(L\\) is\n\\[L = \\begin{bmatrix}\n1 & 0 \\\\\n0 & 1\n\\end{bmatrix}\\]\n\\(P\\) does not change. However, the second row of \\(PF\\) changes to 0. The new \\(P( - F)\\) is\n\\[P( - F) = \\begin{bmatrix}\n5 \\\\\n0\n\\end{bmatrix}\\]\nAt this point, we carry out the equations to solve the linear system.\n\\[y = L^{- 1}P( - F) = \\begin{bmatrix}\n1 & 0 \\\\\n0 & 1\n\\end{bmatrix}\\begin{bmatrix}\n5 \\\\\n0\n\\end{bmatrix} = \\begin{bmatrix}\n5 \\\\\n0\n\\end{bmatrix}\\]\n\\[D = U^{- 1}y = \\begin{bmatrix}\n1 & 0 \\\\\n0 & 1\n\\end{bmatrix}\\begin{bmatrix}\n5 \\\\\n0\n\\end{bmatrix} = \\begin{bmatrix}\n5 \\\\\n0\n\\end{bmatrix}\\]\nNow we have a direction. The question is, does it take us in a direction that makes any sense? If we look at the line search, we get the graph below. The \\(\\alpha = 1\\) seems to be the best choice.\n\n\n\nGraph of line search\n\n\nThe next guess is\n\\[x_{k + 1} = \\begin{bmatrix}\n0 \\\\\n0\n\\end{bmatrix} + 1\\begin{bmatrix}\n5 \\\\\n0\n\\end{bmatrix} = \\begin{bmatrix}\n5 \\\\\n0\n\\end{bmatrix}\\]\nAnd the corresponding \\(F\\) is\n\\[F_{k + 1} = \\begin{bmatrix}\n- 2 \\\\\n0\n\\end{bmatrix}\\]\nThe Jacobian is\n\\[J_{k + 1} = \\begin{bmatrix}\n0 & 125 \\\\\n1 & 0\n\\end{bmatrix}\\]\n\\(LU\\) factorization with partial pivoting is\n\\[L_{k + 1} = \\begin{bmatrix}\n1 & 0 \\\\\n0 & 1\n\\end{bmatrix}\\]\n\\[U_{k + 1} = \\begin{bmatrix}\n1 & 0 \\\\\n0 & 125\n\\end{bmatrix}\\]\n\\[P_{k + 1} = \\begin{bmatrix}\n0 & 1 \\\\\n1 & 0\n\\end{bmatrix}\\]\nThe diagonals of \\(U\\) are not zero, so the Jacobian is not singular.\nThe initial finding here is we CAN use the \\(LU\\) decomposition to find a search direction even when we are on a saddle point. This is good news! More work is needed with a bigger system of equations to see if we can always do this."
  },
  {
    "objectID": "posts/2021/04/2021-04-12-nonlinear-equation-system-solving-using-newton-line-search-and-lu-factorization.html#case-2-x-leftlbrack-0x_2-neq-0-rightrbrackt",
    "href": "posts/2021/04/2021-04-12-nonlinear-equation-system-solving-using-newton-line-search-and-lu-factorization.html#case-2-x-leftlbrack-0x_2-neq-0-rightrbrackt",
    "title": "Nonlinear Equation System Solving Using Newton, Line Search, and LU factorization",
    "section": "Case 2, \\(x = \\left\\lbrack 0,x_{2} \\neq 0 \\right\\rbrack^{T}\\ \\)",
    "text": "Case 2, \\(x = \\left\\lbrack 0,x_{2} \\neq 0 \\right\\rbrack^{T}\\ \\)\n\\(F\\) and \\(J\\) are\n\\[F = \\left\\lbrack \\begin{matrix}\n- 2 \\\\\n- x_{2}^{2} - 5\n\\end{matrix}\\  \\right\\rbrack\\]\n\\[J = \\begin{bmatrix}\n0 & 0 \\\\\n1 & 2x_{2}\n\\end{bmatrix}\\]\nIf we explicitly write out the equations for \\(D\\) we get:\n\\[0*D_{1} + 0*D_{2} = 2\\] \\[1*D_{1} + 2x_{2}*D_{2} = x_{2}^{2} + 5\\]\nThe \\(LU\\) with partial pivoting is\n\\[L = \\begin{bmatrix}\n1 & 0 \\\\\n0 & 1\n\\end{bmatrix}\\]\n\\[U = \\begin{bmatrix}\n1 & 2x_{2} \\\\\n0 & 0\n\\end{bmatrix}\\]\n\\[P = \\begin{bmatrix}\n0 & 1 \\\\\n1 & 0\n\\end{bmatrix}\\]\nAt this point, we eliminate the first equation and second column. The new \\(L\\), \\(U\\), \\(P\\), and \\(P( - F)\\) are\n\\[L = \\begin{bmatrix}\n1 & 0 \\\\\n0 & 1\n\\end{bmatrix}\\]\n\\[U = \\begin{bmatrix}\n1 & 0 \\\\\n0 & 1\n\\end{bmatrix}\\]\n\\[P = \\begin{bmatrix}\n0 & 1 \\\\\n1 & 0\n\\end{bmatrix}\\]\n\\[P( - F) = \\begin{bmatrix}\nx_{2}^{2} + 5 \\\\\n0\n\\end{bmatrix}\\]\nAt this point, we carry out the equations to solve the linear system.\n\\[y = L^{- 1}PF = \\begin{bmatrix}\n1 & 0 \\\\\n0 & 1\n\\end{bmatrix}\\begin{bmatrix}\nx_{2}^{2} + 5 \\\\\n0\n\\end{bmatrix} = \\begin{bmatrix}\nx_{2}^{2} + 5 \\\\\n0\n\\end{bmatrix}\\]\n\\[D = U^{- 1}y = \\begin{bmatrix}\n1 & 0 \\\\\n0 & 1\n\\end{bmatrix}\\begin{bmatrix}\nx_{2}^{2} + 5 \\\\\n0\n\\end{bmatrix} = \\begin{bmatrix}\nx_{2}^{2} + 5 \\\\\n0\n\\end{bmatrix}\\]\nNow we have a direction. The question is, does it take us in a direction that makes any sense? If we look at the line search, we get the graph below. Note, several different views are displayed because of the 3d nature of the graph. The answer is we can always take a direction that makes sense based on the direction found.\n\n\n\nLine search surface (view 1)\n\n\n\n\n\nLine search surface (view 2)\n\n\nIf we plot \\(x_{2}\\) vs. \\(\\alpha\\) we get:\n\n\n\nPlot of \\(x_{2}\\) vs \\(\\alpha\\)\n\n\nIf we expand out the graph above for large values of \\(x_{2}\\) we see that \\(\\alpha\\) is heading towards 0 (shown below). In the limit \\(x_{2}\\) goes to infinity, \\(\\alpha\\) will go to 0. This tends to point to situations where the ill-conditioning of finding a new \\(x_{k + 1}\\). When \\(\\alpha D\\) is near working precision of \\(x_{k}\\), then \\(x_{k + 1} = x_{k}\\) to working precision. This would cause the Newton iteration to quit near a saddle point rather than near a solution of the nonlinear system of equations. We may have to detect this case by finding the singularity of the Jacobian from the LU factorization. We will need to search an arbitrary direction to get us off this ill-conditioned point.\n\n\n\n\\(x_2\\) versus \\(\\alpha\\)\n\n\nWith our direction \\(D\\), the \\(x_{k + 1\\ }\\) is\n\\[x_{k + 1} = \\begin{bmatrix}\n0 \\\\\nx_{2}\n\\end{bmatrix} + \\alpha\\begin{bmatrix}\nx_{2}^{2} + 5 \\\\\n0\n\\end{bmatrix} = \\begin{bmatrix}\n\\alpha\\left( x_{2}^{2} + 5 \\right) \\\\\nx_{2}\n\\end{bmatrix}\\]\nThe machine double precision of \\(x_{1} = 0\\) is\n\\[eps(0) = 4.9407*10^{- 324}\\]\nThis means that \\(\\alpha\\left( x_{2}^{2} + 5 \\right)\\) would have to be near \\(eps(0)\\) for us to not find a new point, \\(x_{k + 1}\\). \\(\\alpha\\) can be very small and it will still have an impact in this case. For instance, when \\(\\alpha = 10^{- 16}\\), \\(x_{2} = 2.236082770647552*10^{8}\\), \\(x_{k + 1} = \\lbrack 5.000066157186832,\\ 2.236082770647552*10^{8}\\rbrack\\) which is still better than what we had before. More investigation is still warranted, but I am less concerned after looking at an example.\nSimilar to case 1, we CAN take a step in a direction that makes sense. We may need to refine this at some point because of floating-point precision. For now, though, floating-point precision is not a problem for this case."
  },
  {
    "objectID": "posts/2021/04/2021-04-12-nonlinear-equation-system-solving-using-newton-line-search-and-lu-factorization.html#case-3-x-leftlbrack-epsilonx_2-rightrbrackt",
    "href": "posts/2021/04/2021-04-12-nonlinear-equation-system-solving-using-newton-line-search-and-lu-factorization.html#case-3-x-leftlbrack-epsilonx_2-rightrbrackt",
    "title": "Nonlinear Equation System Solving Using Newton, Line Search, and LU factorization",
    "section": "Case 3, \\(x = \\left\\lbrack \\epsilon,x_{2} \\right\\rbrack^{T}\\)",
    "text": "Case 3, \\(x = \\left\\lbrack \\epsilon,x_{2} \\right\\rbrack^{T}\\)\n\\(F\\) and \\(J\\) are\n\\[F(x) = \\begin{bmatrix}\n\\epsilon^{3}\\arctan\\left( x_{2} \\right) - 2 \\\\\n\\epsilon + x_{2}^{2} - 5\n\\end{bmatrix}\\]\n\\[J = \\begin{bmatrix}\n3\\epsilon^{2}\\arctan\\left( x_{2} \\right) & \\frac{\\epsilon^{3}}{x_{2}^{2}\\  + \\ 1} \\\\\n1 & 2x_{2}\n\\end{bmatrix}\\]\nIf we explicitly write out the equations for \\(D\\) we get:\n\\[{3\\epsilon^{2}\\arctan\\left( x_{2} \\right)*D_{1} + \\frac{\\epsilon^{3}}{x_{2}^{2}\\  + \\ 1}*D_{2} = - \\epsilon^{3}\\arctan\\left( x_{2} \\right) + 2\n}{1*D_{1} + 2x_{2}*D_{2} = - \\epsilon + x_{2}^{2} + 5}\\]\nThrough a bit of experiment with \\(x_{2} = 1\\) and trying to find when \\(J\\) becomes rank 1 according to MATLAB, \\(\\epsilon = 2*10^{- 8}\\) is rank 2 while \\(\\epsilon = 1*10^{- 8}\\) is rank 1.\nFor the case that \\(\\epsilon = 2*10^{- 8}\\) and \\(x_{2} = 1\\), the \\(LU\\) factorization yields:\n\\[L = \\begin{bmatrix}\n1 & 0 \\\\\n9.42477796076938*10^{- 16} & 1\n\\end{bmatrix}\\]\n\\[U = \\begin{bmatrix}\n1 & 2 \\\\\n0 & - 1.88495558815388*10^{- 15}\n\\end{bmatrix}\\]\n\\[P = \\begin{bmatrix}\n0 & 1 \\\\\n1 & 0\n\\end{bmatrix}\\]\nIf we missed this as a singular case, we would get a direction of\n\\[y = L^{- 1}P( - F) = \\begin{bmatrix}\n1 & 0 \\\\\n- 9.42477796076938*10^{- 16} & 1\n\\end{bmatrix}\\begin{bmatrix}\n0 & 1 \\\\\n1 & 0\n\\end{bmatrix}\\begin{bmatrix}\n- 2 \\\\\n- 3.999999980000000\n\\end{bmatrix} = \\begin{bmatrix}\n3.99999998 \\\\\n1.999999999999996\n\\end{bmatrix}\\]\n\\[{D = U^{- 1}y = \\begin{bmatrix}\n1 & 1.061032956197551*10^{15} \\\\\n0 & - 5.305164780987754*10^{14}\n\\end{bmatrix}\\begin{bmatrix}\n3.99999998 \\\\\n1.999999999999996\n\\end{bmatrix}\n}{= \\begin{bmatrix}\n2.122065912395102*10^{15} \\\\\n- 1.061032956197549*10^{15}\n\\end{bmatrix}}\\]\nThis direction is enormous in magnitude. It seems like it could cause problems. However, the line search keeps this from getting worse. For the above \\(D\\), \\(\\alpha = 7.82707232360737*10^{- 16}\\). The line search saves the day. This is what makes the Newton iteration with line search so robust. Even with a huge Newton direction, we can take an appropriate step because of the line search.\n\\[{x_{k + 1} = x_{k} + \\alpha D = \\begin{bmatrix}\n2*10^{- 8} \\\\\n1\n\\end{bmatrix} + 7.82707232360737*10^{- 16}\\begin{bmatrix}\n2.122065912395102*10^{15} \\\\\n- 1.061032956197549*10^{15}\n\\end{bmatrix}\n}{= \\begin{bmatrix}\n1.660956357177832 \\\\\n0.169521831411085\n\\end{bmatrix}}\\]\n\\[F\\left( x_{k + 1} \\right) = \\begin{bmatrix}\n- 1.230531207840158 \\\\\n- 3.310305991497200\n\\end{bmatrix}\\]\n\\[\\left| \\left| F\\left( x_{k + 1} \\right) \\right| \\right|_{1} = 4.54083719933736\\]\nWhile\n\\[\\left| \\left| F\\left( x_{k} \\right) \\right| \\right|_{1} = 5.999999980000000\\]\nIn case 3, we CAN take a step that makes sense. The line search is the star of the show. It prevents us from taking too big of a step."
  },
  {
    "objectID": "posts/2021/07/2021-07-19-neural-networks-controls-and-system-identification.html",
    "href": "posts/2021/07/2021-07-19-neural-networks-controls-and-system-identification.html",
    "title": "Neural Networks. Controls, and System Identification",
    "section": "",
    "text": "The current engineer atmosphere is buzzing about Neural Networks. The downside is that Neural Networks do not have a structure that is easily understandable and interpretable. When we can understand the physic mechanisms, Neural Networks should not be your first choice, in my opinion.\nThe links below take you directly to the start of the pertinent question(s). Among the two controls authors, they agree we can do the same or better than Neural Networks. Gene Morelli is from NASA. Stephen Boyd is from Stanford.\nGene Morelli from NASA responds about Neural Networks. The video jumps to the start of this question at 1:19:43, and the question is finished at 1:21:30. The total question time is 1:47.\nStephen Boyd Response to Neural Network Use in Optimization and Control Question starts at 1:40:48. It gets interesting at 1:43:15. The question concludes at 1:44:47. The total question time is 3:59.\nThe counterpoint to my viewpoint is Chris Rackauckas’s Automated Discovery of Mechanistic Models via Universal Differential Equations. Sometime in the future, Neural Networks may dominate. For now, I don’t see it this way and think controls engineers should use other methods if they can understand their system."
  },
  {
    "objectID": "posts/2021/10/2021-10-24-trust-region-dogleg-and-newton-raphson-a-quick-story.html",
    "href": "posts/2021/10/2021-10-24-trust-region-dogleg-and-newton-raphson-a-quick-story.html",
    "title": "Trust-Region-Dogleg and Newton-Raphson - A Quick Comparison on a 5th order polynomial",
    "section": "",
    "text": "A Newton-Raphson iteration produces a fractal pattern in the complex plane and a Trust-Region-Dogleg method produces a smoother pattern in the complex which is desirable for a nonlinear equation solver. The context of this statement is finding the roots of a polynomial in a complex plan from different starting points. The inspiration for this post was the video from 3Blue1Brown, Newton’s Fractal (which Newton knew nothing about).\nGiven the polynomial\n\\[P(z) = z^5 + z^2 - z + 1 = 0\\]\nfind a root starting from anywhere in the interval of -2 to 2 and -2i to 2i.\nCommon code:"
  },
  {
    "objectID": "posts/2021/10/2021-10-24-trust-region-dogleg-and-newton-raphson-a-quick-story.html#newton-raphson-iteration",
    "href": "posts/2021/10/2021-10-24-trust-region-dogleg-and-newton-raphson-a-quick-story.html#newton-raphson-iteration",
    "title": "Trust-Region-Dogleg and Newton-Raphson - A Quick Comparison on a 5th order polynomial",
    "section": "Newton-Raphson Iteration",
    "text": "Newton-Raphson Iteration\nUsing Newton’s method starting anywhere in the interval -2 to 2 and -2i to 2i produces the following pattern.\n% setup for iteration\nisConverged = false(nStartingPointReal, nStartingPointImaginary);\nisDivideByZero = false(nStartingPointReal, nStartingPointImaginary);\n\nwhileFlag = true;\niteration = 0;\nz = startingPoint;\n\n% check if the starting value was already converged.\n% polynomial is less then functionTolerance.\np = polynomialFunction(z(~isConverged));\nisConverged(~isConverged) = abs(p) &lt; functionTolerance;\n\n% begin iteration\np = polynomialFunction(z(~isConverged));\nwhile whileFlag\n    % increment iteration number\n    iteration = iteration + 1;\n    \n    p = polynomialFunction(z(~isConverged));\n    \n    % Calculate the derivative of the polynomial.\n    % Check for divide by 0. If p_dot is close to machine precision\n    % of p, then its a divide by 0 error. \n    % Stop all further iteration.\n    p_dot = polynomialDerivativeFunction(z(~isConverged));\n    isDivideByZeroIteration = abs(p_dot) &lt; divideByZeroTolerance*eps(abs(p));\n    isDivideByZero(~isConverged) = isDivideByZeroIteration;\n    isConverged(~isConverged) = isDivideByZeroIteration;\n    \n    % calculate Newton iteration on unconverged points.\n    z(~isConverged) = z(~isConverged) - p(~isDivideByZeroIteration)./p_dot(~isDivideByZeroIteration);\n    \n    % check for convergence\n    p = polynomialFunction(z(~isConverged));\n    isConverged(~isConverged) = abs(p) &lt; functionTolerance;\n    \n    % set while flag\n    % all roots have converged or reached max iterations\n    whileFlag = iteration &lt;= maxIterations || all(all(~isConverged));\nend\n\n% successful roots\nisRoot = isConverged & ~isDivideByZero;\n\n% which root did newton's method converge too?\n% calculate the difference between the converged root and the roots of the polynomial\n% the smallest distance corresponds to the root index\nzDiff = abs(z - reshape(rootsOfPolynomial,1,1,[])); % using singelton expansion\n[rootErrors,rootIndex] = min(zDiff,[],3); % minimum along 3rd dimension\nrootIndex(~isRoot) = 0;\n\n% create the fractal image\n% imagesc uses the meshgrid format where \n% x is the 2nd dimension \n% y is the first dimension\n% therefore, transpose rootIndex because its in the ndgrid format\nfigure;\nimagesc(startingPointReal', imag(startingPointImaginary), rootIndex')\nc = prism(numel(rootsOfPolynomial)+1);\ncolormap(c);\nxlabel(\"Real Axis\"); ylabel(\"Imaginary Axis\")\nylabel(colorbar('Ticks',1:numel(rootsOfPolynomial)),\"Root Index\")\nhold all;\nplot(rootsOfPolynomial,'ko','MarkerSize',10,'LineWidth',3)\ntitle(\"Newton-Raphson Convergence for z^5+z^2-z+1\")\n\n\n\nRed is unconverged. The other colors correspond to a root. The o’s are the roots."
  },
  {
    "objectID": "posts/2021/10/2021-10-24-trust-region-dogleg-and-newton-raphson-a-quick-story.html#trust-region-dogleg-iteration",
    "href": "posts/2021/10/2021-10-24-trust-region-dogleg-and-newton-raphson-a-quick-story.html#trust-region-dogleg-iteration",
    "title": "Trust-Region-Dogleg and Newton-Raphson - A Quick Comparison on a 5th order polynomial",
    "section": "Trust-Region-Dogleg Iteration",
    "text": "Trust-Region-Dogleg Iteration\nThe MATLAB fsolve() function uses the Trust-Region-Dogleg method to find a root of a nonlinear equation. What’s interesting is how much smoother the boundaries are for the Trust-Region-Dogleg method.\nMore information on Trust-Region-Dogleg method\n- Powell’s dog leg method - Wikipedia\n- Trust-Region-Dogleg Algorithm - MathWorks\noptions = optimoptions('fsolve','Display',\"none\",\"SpecifyObjectiveGradient\",true, ...\n    'FunctionTolerance',functionTolerance, 'StepTolerance',max(rootErrors(isRoot)),...\n    \"Algorithm\",\"trust-region-dogleg\");\n% calling fsolve with the first argument as a cell array is undocumented but it works and is easy to setup. In a future\n% version of MATLAB, this may not work because its undocumented. Also, each root is found one at a time and this is \n% ver inefficient. This could be a lot better but that is not the focus of today.\n% \ntic;\n[z2,~,exitflag2] = arrayfun(@(z0) fsolve({polynomialFunction,polynomialDerivativeFunction},z0,options),startingPoint);\ntoc;\n\n\nElapsed time is 406.891834 seconds.\n\n% successful roots\nisRoot2 = exitflag2 == 1;\n\n% which root did the Trust-Region-Dogleg method converge too?\n% calculate the difference between the converged root and the roots of the polynomial\n% the smallest distance corresponds to the root index\nzDiff2 = abs(z2 - reshape(rootsOfPolynomial,1,1,[])); % using singelton expansion\n[rootErrors2,rootIndex2] = min(zDiff2,[],3); % minimum along 3rd dimension\nrootIndex2(~isRoot2) = 0;\n\n% create the fractal image\n% imagesc uses the meshgrid format where \n% x is the 2nd dimension \n% y is the first dimension\n% therefore, transpose rootIndex2 because its in the ndgrid format\nfigure;\nimagesc(startingPointReal', imag(startingPointImaginary), rootIndex2')\ncolormap(c);\nxlabel(\"Real Axis\"); ylabel(\"Imaginary Axis\")\nylabel(colorbar('Ticks',1:numel(rootsOfPolynomial)),\"Root Index\")\nhold all;\nplot(rootsOfPolynomial,'ko','MarkerSize',10,'LineWidth',3)\ntitle(\"Trust-Region-Dogleg Convergence for z^5+z^2-z+1\")\n\n\n\nRed is unconverged. The other colors correspond to a root. The o’s are the roots."
  },
  {
    "objectID": "posts/2025/11/2025-11-11-getting-Franklin_jl_setup.html",
    "href": "posts/2025/11/2025-11-11-getting-Franklin_jl_setup.html",
    "title": "Setting Up a Franklin.jl Blog",
    "section": "",
    "text": "UPDATE 2025-11-28: I migrated to Quarto because of issues like the one below.\nNote, that this method is brittle. After I put this into practice and had multiple failures and spent hours and days troubleshooting, I opted for a static blog page that contains static links. I don’t auto generate the page using the code below. I will come back to this after I understand some of the details better. For now, I am not using the method below.\n\nSetup a new Franklin site.\n\nusing Franklin\nnewsite(\"mySite\", template=\"pure-sm\")\n\nAdd the following code to your utils.jl file. The newsite() call created the utils.jl file.\n\n\"\"\"\n    {{blogposts}}\n\nPlug in the list of blog posts contained in the `/blog/` folder.\n\nTaken from the the julialang.org site and modified.\nhttps://github.com/JuliaLang/www.julialang.org/blob/90de0f3bf314796db210b6faeea55ed360721836/utils.jl#L43-L85\n\"\"\"\nfunction hfun_blogposts()\n  curyear = year(Dates.today())\n  io = IOBuffer()\n  for year in curyear:-1:2015\n    ys = \"$year\"\n    year &lt; curyear && write(io, \"\\n**$year**\\n\")\n    for month in 12:-1:1\n      ms = lpad(string(month), 2, '0')\n      base = joinpath(\"blog\", ys, ms)\n      isdir(base) || continue\n      posts = filter!(p -&gt; endswith(p, \".md\"), readdir(base))\n      nposts = length(posts)\n      dates = Vector{Date}(undef, nposts)\n      lines = Vector{String}(undef, nposts)\n      for (i, post) in enumerate(posts)\n        ps = splitext(post)[1]\n        url = \"/blog/$ys/$ms/$ps/\"\n        surl = strip(url, '/')\n        title = pagevar(surl, :title)\n        title === nothing && (title = \"Untitled\")\n        date = pagevar(surl, :date)\n        # parse published date defensively; fall back to first of month\n        if isnothing(date)\n          date = Date(year, month, 1)\n        else\n          try\n            # expect ISO format: yyyy-mm-dd\n            date = Date(date, Dates.DateFormat(\"yyyy-mm-dd\"))\n          catch err1\n            try\n              # try generic parsing as a fallback\n              date = Date(date)\n            catch err2\n              @warn \"Failed to parse published date; falling back to first of month\" surl = surl pubdate = date error = err2\n              date = Date(year, month, 1)\n            end\n          end\n        end\n        dates[i] = date\n        # format date as ISO yyyy-mm-dd for output\n        lines[i] = \"\\n$date - [$title]($url)\\n\"\n      end\n      # sort by full Date (descending) so posts are antichronological\n      order = sortperm(dates, rev=true)\n      foreach(idx -&gt; write(io, lines[idx]), order)\n    end\n  end\n  # markdown conversion adds `&lt;p&gt;` beginning and end but\n  # we want to avoid this to avoid an empty separator\n  r = Franklin.fd2html(String(take!(io)), internal=true)\n  return r\nend\n\n\"\"\"\n    {{recentblogposts}}\n\nInput the 3 latest blog posts.\nTaken from the the julialang.org site and modified.\nhttps://github.com/JuliaLang/www.julialang.org/blob/90de0f3bf314796db210b6faeea55ed360721836/utils.jl#L43-L85\n\"\"\"\nfunction hfun_recentblogposts()\n  curyear = Dates.Year(Dates.today()).value\n  ntofind = 3\n  # collect recent posts dynamically; push! as we find them\n  recent = Vector{Pair{String,Date}}()\n  for year in curyear:-1:2019\n    for month in 12:-1:1\n      ms = lpad(string(month), 2, '0')\n      base = joinpath(\"blog\", \"$year\", \"$ms\")\n      isdir(base) || continue\n      posts = filter!(p -&gt; endswith(p, \".md\"), readdir(base))\n      np = length(posts)\n      dates = Vector{Date}(undef, np)\n      surls = Vector{String}(undef, np)\n      for (i, post) in enumerate(posts)\n        ps = splitext(post)[1]\n        surl = \"blog/$year/$ms/$ps\"\n        surls[i] = surl\n        # check :date front-matter only\n        date = pagevar(surl, :date)\n        # normalize into a Date; fall back to first of month\n        if isnothing(date)\n          d = Date(year, month, 1)\n        elseif isa(date, Dates.Date)\n          d = date\n        else\n          parsed = nothing\n          try\n            # expect ISO format yyyy-mm-dd\n            parsed = Date(date, Dates.DateFormat(\"yyyy-mm-dd\"))\n          catch err1\n            try\n              parsed = Date(date)\n            catch err2\n              @warn \"Failed to parse recent post date; falling back to first of month\" surl = surl pubdate = date error = err2\n            end\n          end\n          isnothing(parsed) && (d = Date(year, month, 1)) || (d = parsed)\n        end\n        dates[i] = d\n      end\n      # go over month posts in antichronological order by full Date\n      sp = sortperm(dates, rev=true)\n      for idx in sp\n        surl = surls[idx]\n        push!(recent, surl =&gt; dates[idx])\n        length(recent) == ntofind && break\n      end\n      length(recent) == ntofind && break\n    end\n    length(recent) == ntofind && break\n  end\n  #\n  io = IOBuffer()\n  for (surl, date) in recent\n    url = \"/$surl/\"\n    title = pagevar(surl, :title)\n    title === nothing && (title = \"Untitled\")\n    # Check for rss_description first,\n    # then fall back to rss.\n    rss_description = pagevar(surl, :rss_description)\n    if isnothing(rss_description)\n      # some pages may still define `rss` explicitly (edge cases)\n      rss_description = pagevar(surl, :rss)\n      if isnothing(rss_description)\n        rss_description = \"\"\n      end\n    end\n\n    write(\n      io,\n      \"\"\"\n&lt;div class=\"col-lg-4 col-md-12 blog\"&gt;\n  &lt;a href=\"$url\"&gt;$date - $title&lt;/a&gt;\n  &lt;p&gt;$rss_description&lt;/p&gt;\n&lt;/div&gt;\n\"\"\"\n    )\n  end\n  return String(take!(io))\nend\n\nCreate blog folder in the root of the new site.\nPut an index.md (example below) in the blog folder. The {blogposts} and {recentblogposts} correspond to the hfun_recentblogposts() and hfun_blogposts() functions in util.jl.\n\n# Recent posts\n\n{{recentblogposts}}\n\n# Blog posts\n\n{{blogposts}}\n\nCreate yyyy/mm folders in a blog folders. If you don’t follow this format exact, the provided hfun_recentblogposts() and hfun_blogposts() won’t find your posts.\nPlace your posts in the yyyy/mm folder. Names don’t matter.\nMake sure to define a Front Matters section for each post. The Front Matters must contain a title and date for the post to get parsed correctly by the hfun_blogposts() function. The hfun_recentblogposts() function has one extra requirement of rss_description. An example is shown below.\n\n+++\ntitle = \"Setting Up a Franklin.jl Blog\"\ndate = Date(2025,11,11)\nrss_description = \"Setting Up a Franklin.jl Blog\"\n+++\nThe blog post you are reading now was created from the above instructions."
  },
  {
    "objectID": "posts/2025/11/2025-11-28-Encoding-many-videos-with-ffmpeg-handbrake-and-nvencc.html",
    "href": "posts/2025/11/2025-11-28-Encoding-many-videos-with-ffmpeg-handbrake-and-nvencc.html",
    "title": "Encoding many videos with ffmpeg, handbrake, and nvencc",
    "section": "",
    "text": "I was working figure out the best combination of settings for ffmpeg, handbrake, and nvencc to encode a large number of videos. I wanted to compare the quality and file size of each encoding method. The Just Video.mkv below is the video uncompressed. What I found was that nvencc was the fastest and could be controlled to have similar quality to ffmpeg and handbrake at a fraction of the time.\n\n\nCode\nimport pandas as pd\n\ndf = pd.read_excel(\"comparison-of-encodings.xlsx\")\ndf\n\n\n\n\nTable 1: Comparison of encodings\n\n\n\n\n\n\n\n\n\n\nRelative path\nDate\nSize\nCompression Ratio\nEncoder\nlibrary\nTime to Encode\nCodec\nlevel\npreset\nQualtiy/crf\ncqp\nAQ\nLookahead\nb frames\nb ref mode\n\n\n\n\n0\ntest20.mkv\n2022-12-05 00:06:50\n165178477\n30.907239\nhandbrake\nx265\n01:02:32\nh.265\nauto\nslow\n28.0\nNaN\nNaN\n25.0\n4.0\nNaN\n\n\n1\ntest21.mkv\n2022-12-05 00:20:50\n217591441\n23.462369\nhandbrake\nx264\n00:13:58\nh.264\n3.1\nmedium\n28.0\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n2\ntest10.mkv\n2022-12-04 20:27:04\n353531237\n14.440621\nnvencc\nnvencc\n00:02:31\nh.265\nauto\nP7\nNaN\n20:28:28\non\n32.0\n0.0\ndisabled\n\n\n3\ntest01.mkv\n2022-12-04 19:37:40\n357186733\n14.292834\nnvencc\nnvencc\n00:01:51\nh.265\nauto\nP1\nNaN\n1 day, 0:28:28\noff\n32.0\n0.0\ndisabled\n\n\n4\ntest08.mkv\n2022-12-05 11:25:08\n357499168\n14.280343\nnvencc\nnvencc\n00:02:06\nh.265\nauto\nP4\nNaN\n20:28:28\non\n32.0\n0.0\ndisabled\n\n\n5\ntest09.mkv\n2022-12-04 20:23:55\n372688029\n13.698349\nnvencc\nnvencc\n00:02:09\nh.265\nauto\nP1\nNaN\n20:28:28\non\n32.0\n0.0\ndisabled\n\n\n6\ntest17.mkv\n2022-12-04 21:07:59\n407170602\n12.538259\nnvencc\nnvencc\n00:02:00\nh.264\nauto\nP4\nNaN\n20:28:28\noff\n0.0\n3.0\ndisabled\n\n\n7\ntest13.mkv\n2022-12-04 20:44:10\n414758133\n12.308886\nnvencc\nnvencc\n00:02:12\nh.264\nauto\nP4\nNaN\n20:28:28\non\n32.0\n3.0\ndisabled\n\n\n8\ntest14.mkv\n2022-12-04 20:58:13\n415904717\n12.274952\nnvencc\nnvencc\n00:02:54\nh.264\nauto\nP7\nNaN\n20:28:28\non\n32.0\n3.0\ndisabled\n\n\n9\ntest22.mkv\n2022-12-05 00:25:16\n427046059\n11.954707\nhandbrake\nnvenc_h264\n00:04:24\nh.264\nauto\nmedium\n28.0\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n10\ntest16.mkv\n2022-12-04 21:05:11\n428304164\n11.919591\nnvencc\nnvencc\n00:02:13\nh.s64\nauto\nP4\nNaN\n20:28:28\non\n32.0\n3.0\neach\n\n\n11\ntest15.mkv\n2022-12-04 21:02:10\n431311989\n11.836468\nnvencc\nnvencc\n00:02:18\nh.264\nauto\nP4\nNaN\n20:28:28\non\n32.0\n4.0\ndisabled\n\n\n12\ntest18.mkv\n2022-12-04 22:45:10\n453180456\n11.265293\nhandbrake\nx265\n01:28:14.200000\nh.265\nauto\nslow\n20.0\nNaN\nNaN\n25.0\n4.0\nNaN\n\n\n13\ntest23.mkv\n2022-12-05 00:30:16\n473814634\n10.774700\nhandbrake\nnvenc_h265\n00:04:58\nh.265\nauto\nmedium\n28.0\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n14\ntest24.mkv\nNaT\n476862830\n10.705826\nhandbrake\nnvenc_h265\n00:05:19\nh.265\nauto\nmedium\n28.0\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n15\ntest22_2.mkv\nNaT\n485119066\n10.523624\nffmpeg\nh264_nvenc\n00:02:13\nh.264\nNaN\nmedium\n28.0\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n16\ntest19.mkv\n2022-12-04 23:04:16\n591502476\n8.630920\nhandbrake\nx264\n00:19:05\nh.264\n3.1\nmedium\n20.0\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n17\ntest11.mkv\n2022-12-04 20:30:02\n615034372\n8.300692\nnvencc\nnvencc\n00:02:00\nh.264\nauto\nP4\nNaN\n20:23:25\noff\n0.0\n3.0\ndisabled\n\n\n18\ntest05.mkv\n2022-12-04 20:06:13\n634038978\n8.051888\nnvencc\nnvencc\n00:02:25\nh.265\nauto\nP7\nNaN\n20:23:25\noff\n0.0\n0.0\ndisabled\n\n\n19\ntest12.mkv\n2022-12-04 20:33:41\n635505228\n8.033310\nnvencc\nnvencc\n00:02:12\nh.264\nauto\nP4\nNaN\n20:23:25\non\n32.0\n3.0\ndisabled\n\n\n20\ntest06.mkv\n2022-12-04 20:09:54\n640328575\n7.972798\nnvencc\nnvencc\n00:02:13\nh.265\nauto\nP4\nNaN\n20:23:25\noff\n32.0\n0.0\ndisabled\n\n\n21\ntest02.mkv\n2022-12-04 19:46:37\n642378626\n7.947354\nnvencc\nnvencc\n00:01:50\nh.265\nauto\nP4\nNaN\n20:23:25\noff\n0.0\n0.0\ndisabled\n\n\n22\ntest03.mkv\n2022-12-04 19:49:09\n642378626\n7.947354\nnvencc\nnvencc\n00:01:50\nh.265\nauto\nP4\nNaN\n20:23:25\noff\n0.0\n0.0\ndisabled\n\n\n23\ntest04.mkv\n2022-12-04 20:01:42\n673475955\n7.580390\nnvencc\nnvencc\n00:01:49\nh.265\nauto\nP1\nNaN\n20:23:25\noff\n0.0\n0.0\ndisabled\n\n\n24\ntest07.mkv\n2022-12-04 20:15:22\n678693704\n7.522113\nnvencc\nnvencc\n00:02:07\nh.265\nauto\nP4\nNaN\n20:23:25\non\n32.0\n0.0\ndisabled\n\n\n25\nJust Video.mkv\n2022-12-20 10:50:46\n5105210612\n1.000000\nNaN\nNaN\n-\n-\n-\n-\nNaN\n-\n-\nNaN\nNaN\nNaN\n\n\n\n\n\n\n\n\n\n\nUltimately, this is the command I used to encode many videos with nvencc:\nNVEncC64.exe -i \"inputfile\" --video-metadata copy  --metadata copy --video-metadata \\\ntitle=\"title\" --chapter-copy -c hevc --cqp 28 --bref-mode disabled --preset quality \\\n--tier high --lookahead 32 --aq --aq-strength 0 --level auto --colormatrix auto \\\n--transfer auto --colorprim auto --output-depth 8 --multipass None --mv-precision Auto \\\n--chromaloc auto --colorrange auto --avsync cfr  --audio-metadata 1?language=eng \\\n--audio-stream 1?:stereo --audio-codec 1?ac3 --audio-bitrate 1?160  --audio-metadata 1?clear \\\n--audio-metadata 1?title=\"Stereo\" --audio-metadata 1?handler=\"Stereo\" --sub-copy 1 \\\n--sub-disposition 1?default --sub-metadata  1?language='eng' -m default_mode:infer_no_subs \n-o \"outputfile\"\nThe main thing that drives nvencc quality is the --cqp parameter. Lower values give better quality but larger file sizes. Higher values give lower quality but smaller file sizes. I found that --cqp 28 gave a good balance of quality and file size. The video looks very similar to the original uncompressed video, but the file size is much smaller. Other configuration corresponds to subtitles, audio tracks, and color settings."
  },
  {
    "objectID": "posts/2025/11/2025-11-28-switching-to-quarto-from-franklin.html",
    "href": "posts/2025/11/2025-11-28-switching-to-quarto-from-franklin.html",
    "title": "Switching to Quarto from Franklin.jl",
    "section": "",
    "text": "After initially migrating to Franklin.jl in the last several weeks, I migrated again to Quarto. Franklin.jl is okay but Quarto is better. Here are my reasons migrating:\n\nFranklin.jl’s support of base Markdown features was lacking. In most static site generators, Markdown is a superset of HTML making the HTML inline with the Markdown. Franklin required ~~~ blocks to signify HTML blocks. Mixing equations and HTML together is tricky without inline HTML.\nFranklin.jl does not have built in search support.\nQuarto feels more professional. Less bugs. Less stack traces in the command line or REPL when working with Quarto.\nFranklin.jl’s blog support is terrible. I opted for a static blog page in Franklin.jl because I had spent days trying to hack together the right functions to parse the posts. Quarto’s blog functionality worked out of the box.\nMore formats. Quarto can generate other formats while Franklin.jl cannot.\nFranklin.jl’s prerender and minify didn’t always work. As well, adding syntax highlighting for VBA only worked for local rendering. The prerender was so different that I could not easily hack it to get it to work. I gave up and turned prerender off.\nFranklin.jl’s understanding of image location is site relative and not relative to where the images are on disk. This makes VSCode’s understanding of location incorrect.\n\nI migrated from Franklin.jl to Quarto in a day. I started this morning around 10:00 am. In that time,\n\nI learned basic Quarto through tutorials.\nConverted 39 .md files to .qmd files.\nFixed all links and image issues.\nUpdated the deploy script.\n\nThank you Quarto team for a great tool!\nFranklin, it’s been nice. Goodbye."
  },
  {
    "objectID": "posts/2025/12/2025-12-05-cae-workstation-setup.html",
    "href": "posts/2025/12/2025-12-05-cae-workstation-setup.html",
    "title": "CAE Workstation setup",
    "section": "",
    "text": "Install Ubuntu 24.04 LTS\nUpdate and upgrade system\nSetup VS Code\nSetup Curl\nSetup julia via juliaup\nSetup pyenv\nInstall some supporting packages\n\nsudo apt install -y \\\n    build-essential cmake \\\n    gmsh paraview \\\n    libopenblas-dev libscalapack-mpi-dev libmumps-dev \\\n    libhdf5-mpi-dev libfftw3-mpi-dev libptscotch-dev \\\n    mpi-default-bin mpi-default-dev\nsnap install freecad\n\nInstall Quarto\n\nTODO:\n\nSetup Salome-Meca\nSetup Elmer\nSetup OpenFOAM"
  },
  {
    "objectID": "posts/2025/12/2025-12-16-jakes-command-line-tools.html",
    "href": "posts/2025/12/2025-12-16-jakes-command-line-tools.html",
    "title": "Jake’s command line tools",
    "section": "",
    "text": "I have a coworker named Jake who is a big fan of command line tools. Here some of the tools has recommended and I am learning. Below is a list of tools he recommended.\n\nWezterm\n\nModern terminal emulator with multiplex features built in (no need for tmux)\nSettings\n\nClink\n\nModern shell for windows, makes using the terminal for finding files or auto completions easy\nSettings\n\nclink set exec_match_style -1\n\nThis lets you autocomplete any file for executables. Allowing you do to start sln&lt;tab&gt; and have it auto complete to start Dune-ADC-Code.sln which lets me open visual studio from command line (Works for any file type)\n\nClink completions\n\nAdds more completions, importart for git operations\n\n\n\nStarship\n\nTerminal prompt, gives information related to project right in your shell\nSettings\n\nClink integration\n\n\nZoxide\n\nSmarter cd command, lets you type partial paths and fuzzy find previously visited directories\nSettings\n\nClink integration\n\n\nuutils/coreutils\n\nRewrite of GNU coreutils in rust, works for windows. Use the same commands on linux and windows\nSettings\n\nClink aliases\n\n\nripgrep (rg) https://github.com/BurntSushi/ripgrep\n\nSuper fast grep\n\nfd\n\nSuper fast file find\n\nneovim\n\nBest editor in Jake’s opinion\nSettings (These are personal and you should probably write your own, A good started config is called LazyVim)\n\nKanata\n\nTool for software remapping of keys, I remap CAPSLOCK to ESC to make ESC more reachable\nSettings\n\ngsudo\n\nAdds sudo to windows, its nice. need to make sure to overwrite the default windows 11 sudo\nTroubleshooting in win11 https://gerardog.github.io/gsudo/docs/gsudo-vs-sudo#what-if-i-install-both\n\nbat\n\nUpgraded cat command, provide some pretty printing and git context when used\n\ndifftastic\n\nBetter terminal diff tool (My default git diff command, gitdifftool goes to beyond compare)"
  },
  {
    "objectID": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html",
    "href": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html",
    "title": "Summary of a second order cavitation model",
    "section": "",
    "text": "This post was AI generated to help summarize the key aspects of a second-order cavitation model proposed by (Liu, Wang, and Liu 2026). My quick take is this is more advanced model than I need for hydraulic simulations for now.\nThis is a summary of Liu, Wang, and Liu’s cavitation model that (i) retains the second-order bubble inertia term from the Rayleigh–Plesset equation and (ii) accounts for non‑condensable gas (NCG) effects through physically meaningful parameters. The authors implement the model in OpenFOAM and validate it on two canonical benchmarks: cavitation over a NACA0015 hydrofoil and cavitation‑induced choked flow in a venturi tube (Liu, Wang, and Liu 2026)."
  },
  {
    "objectID": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html#motivation",
    "href": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html#motivation",
    "title": "Summary of a second order cavitation model",
    "section": "Motivation",
    "text": "Motivation\nMost homogeneous (Euler–Euler) cavitation models used in practical CFD are built around a transport equation for vapor volume fraction with a closure for the phase‑change source term. Common closures are derived from simplified or linearized bubble dynamics, and they often rely on empirical constants tuned per case.\nLiu et al. argue that two pieces of physics are especially important in many engineering flows:\n\nNonlinear bubble inertia during growth/collapse (acceleration/deceleration phases), which is dropped when the second‑order inertial term is neglected.\nNon‑condensable gas content, which can materially affect stability of nuclei and collapse dynamics."
  },
  {
    "objectID": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html#what-the-model-changes",
    "href": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html#what-the-model-changes",
    "title": "Summary of a second order cavitation model",
    "section": "What the model changes",
    "text": "What the model changes\nThe paper stays within a standard homogeneous mixture framework (mixture continuity + momentum + vapor transport). The key change is the mass‑transfer source term.\n\n1) Second‑order inertia retained\nInstead of using a purely first‑order bubble growth law, the authors start from a more complete Rayleigh–Plesset formulation and retain the second‑order inertial contribution. Practically, this introduces a stronger nonlinearity into the collapse/condensation behavior, which they later link to improved predictions of re‑entrant jet dynamics and cavity shedding (Liu, Wang, and Liu 2026).\n\n\n2) NCG enters via physically interpretable parameters\nRather than introducing (or tuning) purely empirical rate constants, the model is parameterized around quantities with clearer physical meaning:\n\nA critical nucleus/bubble radius (a stability threshold for nuclei).\nA molar density of non‑condensable gas in the mixture.\n\nNCG is not treated as its own transported species; instead, its effect is folded into the phase‑change rate expression. The authors frame this as a pragmatic trade‑off: capture first‑order NCG influence without the cost/complexity of a fully miscible multicomponent formulation.\n\n\n3) Evaporation vs condensation behavior\nThe source term is split into evaporation and condensation contributions based on whether local pressure is below/above the saturation vapor pressure. A key design choice is that the condensation behavior becomes strongly nonlinear in vapor fraction, suppressing “too‑rapid” collapse in near‑pure vapor regions and shifting condensation to behave more like an interfacial process."
  },
  {
    "objectID": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html#implementation-details-as-used-in-the-paper",
    "href": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html#implementation-details-as-used-in-the-paper",
    "title": "Summary of a second order cavitation model",
    "section": "Implementation details (as used in the paper)",
    "text": "Implementation details (as used in the paper)\n\nSolver: OpenFOAM’s interPhaseChangeFoam (homogeneous cavitation framework).\nTest cases:\n\nCase A: 2D NACA0015 hydrofoil (multiple angles of attack and cavitation numbers).\nCase B: 2D (axisymmetric half‑domain) venturi tube (multiple pressure ratios).\n\nTurbulence: SST \\(k\\)–\\(\\omega\\); for hydrofoil morphology they also use a Reboud-type correction for eddy viscosity.\nThe paper uses representative parameter values for the new physical knobs (e.g., a micrometer-scale initial nucleus radius and an NCG molar density within a plausible range for air in water) (Liu, Wang, and Liu 2026)."
  },
  {
    "objectID": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html#validation-results-what-improved",
    "href": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html#validation-results-what-improved",
    "title": "Summary of a second order cavitation model",
    "section": "Validation results: what improved",
    "text": "Validation results: what improved\n\nNACA0015 hydrofoil\nAcross the hydrofoil comparisons, the paper’s main claim is: global loads and surface pressure are closer to experiments, especially around inception/development where many models struggle.\nNotable reported behaviors:\n\nLift/drag: the proposed model generally predicts lift and drag trends that better match experimental data than Schnerr–Sauer, and it places the onset/threshold for “effectively non‑cavitating” conditions closer to experiment in the tested sets.\nPressure coefficient: predictions near the leading edge are smoother and closer to measurements; Schnerr–Sauer shows stronger non‑physical oscillations in some regimes.\nUnsteady shedding and re‑entrant jet: the proposed model tends to produce a more intense re‑entrant jet and a bubble/cavity collapse process that looks more realistic compared to available experimental visualizations.\n\nThe paper also notes a limitation: in some very intense cavitation / low cavitation number scenarios, the model can over‑extend the cavity (a reminder that Euler–Euler closures + finite grid resolution can struggle to represent fine-scale bubble clouds and sharp interfaces).\n\n\nVenturi tube (cavitation‑induced choked flow)\nThe venturi case focuses on the “choked” regime where increasing upstream driving no longer increases mass flow once cavitation becomes established.\nKey outcomes reported:\n\nCritical pressure ratio for onset of cavitation‑induced choking is predicted closer to experiment than Schnerr–Sauer.\nDominant oscillation frequency of vapor dynamics at a representative pressure ratio (around 0.5) is closer to the measured value.\nCavity closure morphology: the model better reproduces a jagged/oblique cavity-termination structure near the wall, attributed to a stronger re‑entrant jet."
  },
  {
    "objectID": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html#takeaways",
    "href": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html#takeaways",
    "title": "Summary of a second order cavitation model",
    "section": "Takeaways",
    "text": "Takeaways\n\nKeeping the second‑order inertia term changes the shape of the closure, not just a constant factor; it can materially affect collapse and shedding dynamics.\nEncoding NCG effects via a small number of physically interpretable knobs is attractive for engineering CFD workflows, even if it is not a full multicomponent model.\nThe model seems to help most where many closures struggle: inception/transition regimes and unsteady cavity break‑up."
  },
  {
    "objectID": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html#references",
    "href": "posts/2025/12/2025-12-21-summary-of-a-second-order-cavitation-model.html#references",
    "title": "Summary of a second order cavitation model",
    "section": "References",
    "text": "References\n\n\nLiu, Jianhao, Lianzhou Wang, and Xinyu Liu. 2026. “Implementation and Validation of a Cavitation Model with Bubble Inertia Second-Order Term and Non-Condensable Gas Effects.” International Journal of Multiphase Flow 195: 105524. https://doi.org/10.1016/j.ijmultiphaseflow.2025.105524."
  }
]